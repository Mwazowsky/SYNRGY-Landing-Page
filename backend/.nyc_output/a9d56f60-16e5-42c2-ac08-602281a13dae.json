{"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\integration-tests\\carsRoute.spec.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\integration-tests\\carsRoute.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":62}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"39":{"start":{"line":38,"column":11},"end":{"line":38,"column":38}},"40":{"start":{"line":39,"column":13},"end":{"line":39,"column":42}},"41":{"start":{"line":40,"column":20},"end":{"line":40,"column":57}},"42":{"start":{"line":41,"column":17},"end":{"line":41,"column":57}},"43":{"start":{"line":42,"column":19},"end":{"line":42,"column":46}},"44":{"start":{"line":43,"column":0},"end":{"line":149,"column":3}},"45":{"start":{"line":45,"column":4},"end":{"line":55,"column":8}},"46":{"start":{"line":45,"column":17},"end":{"line":55,"column":6}},"47":{"start":{"line":46,"column":26},"end":{"line":49,"column":9}},"48":{"start":{"line":50,"column":30},"end":{"line":52,"column":28}},"49":{"start":{"line":53,"column":8},"end":{"line":53,"column":41}},"50":{"start":{"line":56,"column":4},"end":{"line":68,"column":7}},"51":{"start":{"line":57,"column":8},"end":{"line":67,"column":11}},"52":{"start":{"line":58,"column":12},"end":{"line":66,"column":15}},"53":{"start":{"line":62,"column":16},"end":{"line":65,"column":17}},"54":{"start":{"line":63,"column":20},"end":{"line":63,"column":39}},"55":{"start":{"line":64,"column":20},"end":{"line":64,"column":27}},"56":{"start":{"line":69,"column":4},"end":{"line":82,"column":7}},"57":{"start":{"line":70,"column":8},"end":{"line":81,"column":11}},"58":{"start":{"line":71,"column":27},"end":{"line":71,"column":28}},"59":{"start":{"line":72,"column":12},"end":{"line":80,"column":15}},"60":{"start":{"line":76,"column":16},"end":{"line":79,"column":17}},"61":{"start":{"line":77,"column":20},"end":{"line":77,"column":39}},"62":{"start":{"line":78,"column":20},"end":{"line":78,"column":27}},"63":{"start":{"line":83,"column":4},"end":{"line":108,"column":7}},"64":{"start":{"line":84,"column":8},"end":{"line":107,"column":11}},"65":{"start":{"line":85,"column":29},"end":{"line":85,"column":44}},"66":{"start":{"line":86,"column":29},"end":{"line":86,"column":53}},"67":{"start":{"line":87,"column":29},"end":{"line":87,"column":70}},"68":{"start":{"line":88,"column":29},"end":{"line":93,"column":42}},"69":{"start":{"line":94,"column":12},"end":{"line":106,"column":15}},"70":{"start":{"line":101,"column":16},"end":{"line":104,"column":17}},"71":{"start":{"line":102,"column":20},"end":{"line":102,"column":39}},"72":{"start":{"line":103,"column":20},"end":{"line":103,"column":27}},"73":{"start":{"line":109,"column":4},"end":{"line":121,"column":7}},"74":{"start":{"line":110,"column":8},"end":{"line":120,"column":12}},"75":{"start":{"line":110,"column":69},"end":{"line":120,"column":10}},"76":{"start":{"line":111,"column":30},"end":{"line":111,"column":47}},"77":{"start":{"line":113,"column":12},"end":{"line":117,"column":29}},"78":{"start":{"line":122,"column":4},"end":{"line":135,"column":7}},"79":{"start":{"line":123,"column":8},"end":{"line":134,"column":12}},"80":{"start":{"line":123,"column":65},"end":{"line":134,"column":10}},"81":{"start":{"line":124,"column":30},"end":{"line":124,"column":47}},"82":{"start":{"line":125,"column":27},"end":{"line":125,"column":28}},"83":{"start":{"line":127,"column":12},"end":{"line":131,"column":29}},"84":{"start":{"line":136,"column":4},"end":{"line":148,"column":7}},"85":{"start":{"line":137,"column":8},"end":{"line":147,"column":12}},"86":{"start":{"line":137,"column":65},"end":{"line":147,"column":10}},"87":{"start":{"line":138,"column":30},"end":{"line":138,"column":47}},"88":{"start":{"line":139,"column":27},"end":{"line":139,"column":28}},"89":{"start":{"line":141,"column":12},"end":{"line":144,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":71},"end":{"line":36,"column":1}},"line":34},"14":{"name":"(anonymous_14)","decl":{"start":{"line":43,"column":55},"end":{"line":43,"column":56}},"loc":{"start":{"line":43,"column":61},"end":{"line":149,"column":1}},"line":43},"15":{"name":"(anonymous_15)","decl":{"start":{"line":45,"column":11},"end":{"line":45,"column":12}},"loc":{"start":{"line":45,"column":17},"end":{"line":55,"column":6}},"line":45},"16":{"name":"(anonymous_16)","decl":{"start":{"line":45,"column":51},"end":{"line":45,"column":52}},"loc":{"start":{"line":45,"column":64},"end":{"line":55,"column":5}},"line":45},"17":{"name":"(anonymous_17)","decl":{"start":{"line":56,"column":32},"end":{"line":56,"column":33}},"loc":{"start":{"line":56,"column":38},"end":{"line":68,"column":5}},"line":56},"18":{"name":"(anonymous_18)","decl":{"start":{"line":57,"column":44},"end":{"line":57,"column":45}},"loc":{"start":{"line":57,"column":50},"end":{"line":67,"column":9}},"line":57},"19":{"name":"(anonymous_19)","decl":{"start":{"line":61,"column":21},"end":{"line":61,"column":22}},"loc":{"start":{"line":61,"column":41},"end":{"line":66,"column":13}},"line":61},"20":{"name":"(anonymous_20)","decl":{"start":{"line":69,"column":31},"end":{"line":69,"column":32}},"loc":{"start":{"line":69,"column":37},"end":{"line":82,"column":5}},"line":69},"21":{"name":"(anonymous_21)","decl":{"start":{"line":70,"column":44},"end":{"line":70,"column":45}},"loc":{"start":{"line":70,"column":50},"end":{"line":81,"column":9}},"line":70},"22":{"name":"(anonymous_22)","decl":{"start":{"line":75,"column":21},"end":{"line":75,"column":22}},"loc":{"start":{"line":75,"column":41},"end":{"line":80,"column":13}},"line":75},"23":{"name":"(anonymous_23)","decl":{"start":{"line":83,"column":34},"end":{"line":83,"column":35}},"loc":{"start":{"line":83,"column":40},"end":{"line":108,"column":5}},"line":83},"24":{"name":"(anonymous_24)","decl":{"start":{"line":84,"column":60},"end":{"line":84,"column":61}},"loc":{"start":{"line":84,"column":66},"end":{"line":107,"column":9}},"line":84},"25":{"name":"(anonymous_25)","decl":{"start":{"line":100,"column":21},"end":{"line":100,"column":22}},"loc":{"start":{"line":100,"column":41},"end":{"line":106,"column":13}},"line":100},"26":{"name":"(anonymous_26)","decl":{"start":{"line":109,"column":33},"end":{"line":109,"column":34}},"loc":{"start":{"line":109,"column":39},"end":{"line":121,"column":5}},"line":109},"27":{"name":"(anonymous_27)","decl":{"start":{"line":110,"column":63},"end":{"line":110,"column":64}},"loc":{"start":{"line":110,"column":69},"end":{"line":120,"column":10}},"line":110},"28":{"name":"(anonymous_28)","decl":{"start":{"line":110,"column":103},"end":{"line":110,"column":104}},"loc":{"start":{"line":110,"column":116},"end":{"line":120,"column":9}},"line":110},"29":{"name":"(anonymous_29)","decl":{"start":{"line":122,"column":33},"end":{"line":122,"column":34}},"loc":{"start":{"line":122,"column":39},"end":{"line":135,"column":5}},"line":122},"30":{"name":"(anonymous_30)","decl":{"start":{"line":123,"column":59},"end":{"line":123,"column":60}},"loc":{"start":{"line":123,"column":65},"end":{"line":134,"column":10}},"line":123},"31":{"name":"(anonymous_31)","decl":{"start":{"line":123,"column":99},"end":{"line":123,"column":100}},"loc":{"start":{"line":123,"column":112},"end":{"line":134,"column":9}},"line":123},"32":{"name":"(anonymous_32)","decl":{"start":{"line":136,"column":33},"end":{"line":136,"column":34}},"loc":{"start":{"line":136,"column":39},"end":{"line":148,"column":5}},"line":136},"33":{"name":"(anonymous_33)","decl":{"start":{"line":137,"column":59},"end":{"line":137,"column":60}},"loc":{"start":{"line":137,"column":65},"end":{"line":147,"column":10}},"line":137},"34":{"name":"(anonymous_34)","decl":{"start":{"line":137,"column":99},"end":{"line":137,"column":100}},"loc":{"start":{"line":137,"column":112},"end":{"line":147,"column":9}},"line":137}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"type":"binary-expr","locations":[{"start":{"line":34,"column":23},"end":{"line":34,"column":27}},{"start":{"line":34,"column":31},"end":{"line":34,"column":51}},{"start":{"line":34,"column":56},"end":{"line":36,"column":1}}],"line":34},"22":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":61}},"type":"cond-expr","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":40}},{"start":{"line":35,"column":43},"end":{"line":35,"column":61}}],"line":35},"23":{"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":15}},{"start":{"line":35,"column":19},"end":{"line":35,"column":33}}],"line":35},"24":{"loc":{"start":{"line":62,"column":16},"end":{"line":65,"column":17}},"type":"if","locations":[{"start":{"line":62,"column":16},"end":{"line":65,"column":17}},{"start":{"line":62,"column":16},"end":{"line":65,"column":17}}],"line":62},"25":{"loc":{"start":{"line":76,"column":16},"end":{"line":79,"column":17}},"type":"if","locations":[{"start":{"line":76,"column":16},"end":{"line":79,"column":17}},{"start":{"line":76,"column":16},"end":{"line":79,"column":17}}],"line":76},"26":{"loc":{"start":{"line":101,"column":16},"end":{"line":104,"column":17}},"type":"if","locations":[{"start":{"line":101,"column":16},"end":{"line":104,"column":17}},{"start":{"line":101,"column":16},"end":{"line":104,"column":17}}],"line":101}},"s":{"0":1,"1":119,"2":119,"3":119,"4":119,"5":114,"6":2,"7":119,"8":0,"9":0,"10":0,"11":1,"12":2,"13":0,"14":1,"15":2,"16":0,"17":2,"18":2,"19":2,"20":119,"21":119,"22":2,"23":2,"24":1,"25":1,"26":1,"27":4,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":5,"35":4,"36":1,"37":2,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":0,"55":0,"56":1,"57":1,"58":1,"59":1,"60":1,"61":0,"62":0,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1},"f":{"0":119,"1":2,"2":0,"3":2,"4":0,"5":2,"6":4,"7":1,"8":1,"9":4,"10":1,"11":0,"12":5,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1},"b":{"0":[1,1,1],"1":[1,0],"2":[119,0],"3":[114,5],"4":[119,119],"5":[5,114],"6":[114,5],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,2],"12":[2,2],"13":[2,0],"14":[119,0],"15":[119,119],"16":[1,1,1],"17":[0,1],"18":[4,4],"19":[4,1],"20":[4,4],"21":[1,1,1],"22":[1,1],"23":[2,2],"24":[0,1],"25":[0,1],"26":[1,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/integration-tests/carsRoute.spec.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/integration-tests/carsRoute.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import * as fs from 'fs';\r\nimport * as path from 'path';\r\nimport request from 'supertest';\r\nimport app from '../../server';\r\n\r\nimport { mockCreateCarData } from '../data/testData';\r\n\r\ndescribe(\"Running integration test on cars routes...\", () => {\r\n    var token: string;\r\n\r\n    before(async () => {\r\n\r\n        const loginData = {\r\n            email: 'adminuser@gmail.com',\r\n            password: 'adminuser'\r\n        };\r\n\r\n\r\n        const loginResponse = await request(app)\r\n            .post('/api/user/login')\r\n            .send(loginData);\r\n\r\n\r\n        token = loginResponse.body.token;\r\n        // console.log('Obtained Token:', token);\r\n    });\r\n\r\n    describe(\"List cars Route\", () => {\r\n        it(\"it should has status code 200\", () => {\r\n            request(app)\r\n                .get(\"/api/cars/\")\r\n                .expect(200)\r\n                .end(function (err, res) {\r\n                    if (err) {\r\n                        console.error(err);\r\n                        return;\r\n                    }\r\n                });\r\n        });\r\n    });\r\n\r\n    describe(\"Show car Route\", () => {\r\n        it(\"it should has status code 200\", () => {\r\n            const car_id = 2;\r\n            request(app)\r\n                .get(`/api/cars/${car_id}`)\r\n                .expect(200)\r\n                .end(function (err, res) {\r\n                    if (err) {\r\n                        console.error(err);\r\n                        return;\r\n                    }\r\n                });\r\n        });\r\n    });\r\n\r\n    describe('File Upload Route', () => {\r\n        it('should upload a file with authorization token', () => {\r\n            const filename = 'testImage.png';\r\n            const boundary = Math.random().toString();\r\n\r\n            const filePath = path.join(__dirname, '../data', filename);\r\n\r\n            const formData = `--${boundary}\\r\\n` +\r\n                `content-disposition: form-data; name=\"image\"; filename=\"${filename}\"\\r\\n` +\r\n                'content-type: image/png\\r\\n' +\r\n                '\\r\\n' +\r\n                fs.readFileSync(filePath) +\r\n                '\\r\\n--' + boundary + '--';\r\n\r\n            request(app)\r\n                .post('/api/cars/upload')\r\n                .set('Content-Type', `multipart/form-data; boundary=${boundary}`)\r\n                .set('Authorization', `Bearer ${token}`)\r\n                .send(formData)\r\n                .expect(200)\r\n                .end(function (err: any, res: any) {\r\n                    if (err) {\r\n                        console.error(err);\r\n                        return;\r\n                    };\r\n                })\r\n        })\r\n    });\r\n\r\n    describe('Create Car Route', () => {\r\n        it('should create a new car with authorization token', async () => {\r\n            const userToken = `Bearer ${token}`; // Replace with a valid user token\r\n\r\n            // Make a POST request to create a new car\r\n            request(app)\r\n                .post('/api/cars/create') // Replace with your create route\r\n                .set('Authorization', userToken)\r\n                .send(mockCreateCarData)\r\n                .expect(201);\r\n            // .expect(response.body).to.have.property('success').to.be.true\r\n            // .expect(response.body).to.have.property('message', 'success create a new car');\r\n        });\r\n    });\r\n    \r\n    describe('Update Car Route', () => {\r\n        it('should update a car with authorization token', async () => {\r\n            const userToken = `Bearer ${token}`; // Replace with a valid user token\r\n            const car_id = 2;\r\n            // Make a POST request to create a new car\r\n            request(app)\r\n                .put(`/api/cars/${car_id}`) // Replace with your create route\r\n                .set('Authorization', userToken)\r\n                .send(mockCreateCarData)\r\n                .expect(201);\r\n            // .expect(response.body).to.have.property('success').to.be.true\r\n            // .expect(response.body).to.have.property('message', 'success create a new car');\r\n        });\r\n    });\r\n    \r\n    describe('Delete Car Route', () => {\r\n        it('should delete a car with authorization token', async () => {\r\n            const userToken = `Bearer ${token}`; // Replace with a valid user token\r\n            const car_id = 2;\r\n            // Make a POST request to create a new car\r\n            request(app)\r\n                .delete(`/api/cars/${car_id}`) // Replace with your create route\r\n                .set('Authorization', userToken)\r\n                .expect(201);\r\n            // .expect(response.body).to.have.property('success').to.be.true\r\n            // .expect(response.body).to.have.property('message', 'success create a new car');\r\n        });\r\n    });\r\n});\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"391ac73ca0998cb480dbe0a80f1fe6da8b8b9e44","contentHash":"fc16c41956a7deac7e382d8fdc6b728d28838cad70ad2fdf75da4fcde5f66b9b"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\server.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\server.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":47}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":47}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}},"8":{"start":{"line":11,"column":20},"end":{"line":11,"column":70}},"9":{"start":{"line":12,"column":18},"end":{"line":12,"column":66}},"10":{"start":{"line":13,"column":18},"end":{"line":13,"column":66}},"11":{"start":{"line":14,"column":18},"end":{"line":14,"column":61}},"12":{"start":{"line":15,"column":24},"end":{"line":15,"column":35}},"13":{"start":{"line":16,"column":19},"end":{"line":16,"column":59}},"14":{"start":{"line":19,"column":8},"end":{"line":19,"column":44}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":59}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":47}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":72}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":44}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":66}},"20":{"start":{"line":25,"column":8},"end":{"line":25,"column":62}},"21":{"start":{"line":26,"column":8},"end":{"line":26,"column":62}},"22":{"start":{"line":27,"column":8},"end":{"line":27,"column":47}},"23":{"start":{"line":30,"column":8},"end":{"line":32,"column":11}},"24":{"start":{"line":31,"column":12},"end":{"line":31,"column":71}},"25":{"start":{"line":35,"column":0},"end":{"line":35,"column":53}},"26":{"start":{"line":36,"column":15},"end":{"line":36,"column":27}},"27":{"start":{"line":37,"column":0},"end":{"line":37,"column":15}},"28":{"start":{"line":38,"column":0},"end":{"line":38,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":18},"end":{"line":28,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":12},"end":{"line":33,"column":5}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":30},"end":{"line":30,"column":31}},"loc":{"start":{"line":30,"column":36},"end":{"line":32,"column":9}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":19}},"type":"default-arg","locations":[{"start":{"line":15,"column":15},"end":{"line":15,"column":19}}],"line":15}},"s":{"0":1,"1":8,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1},"f":{"0":8,"1":1,"2":1,"3":1},"b":{"0":[1,1,1],"1":[4,4],"2":[8,8],"3":[1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/server.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/server.ts"],"names":[],"mappings":";;;;;AAAA,sDAAgD;AAChD,oDAA4B;AAC5B,gDAAwB;AACxB,gDAAwB;AACxB,gBAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,uEAA+C;AAC/C,mEAA2C;AAC3C,mEAA2C;AAC3C,8DAA0C;AAE1C,MAAM,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC;AACpC,MAAM,UAAU,GAAG,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;AAElD,MAAM,MAAM;IAGV;QACE,IAAI,CAAC,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;QACrB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QACzC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAC;QAErB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,mBAAS,CAAC,MAAM,EAAE,CAAC,CAAC;QAChD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,iBAAO,CAAC,MAAM,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,iBAAO,CAAC,MAAM,EAAE,CAAC,CAAC;QAE5C,IAAA,iBAAW,EAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IAEM,KAAK;QACV,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,uCAAuC,EAAE,IAAI,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAED,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAErD,MAAM,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;AAC5B,MAAM,CAAC,KAAK,EAAE,CAAC;AAEf,kBAAe,MAAM,CAAC,GAAG,CAAC","sourcesContent":["import express, { type Express } from 'express';\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport cors from 'cors';\ndotenv.config();\n\nimport HealthApi from './routes/api/healthApi';\nimport CarsApi from './routes/api/carsApi';\nimport AuthApi from './routes/api/authApi';\nimport swaggerDocs from './utils/swagger';\n\nconst { PORT = 8060 } = process.env;\nconst PUBLIC_DIR = path.join(__dirname, 'public');\n\nclass Server {\n  public readonly app: Express;\n\n  constructor() {\n    this.app = express();\n    this.app.use(express.static(PUBLIC_DIR));\n    this.app.use(express.json());\n    this.app.use(express.urlencoded({ extended: false }));\n    this.app.use(cors());\n\n    this.app.use('/api/health', HealthApi.routes());\n    this.app.use('/api/cars', CarsApi.routes());\n    this.app.use('/api/user', AuthApi.routes());\n\n    swaggerDocs(this.app, 8000);\n  }\n\n  public start(): void {\n    this.app.listen(PORT, () => {\n      console.log('Server running on http://localhost:%s', PORT);\n    });\n  }\n}\n\nconsole.log('Env URL >>>', process.env.DATABASE_URL);\n\nconst server = new Server();\nserver.start();\n\nexport default server.app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ccdbb536ba8f6851452edff34ca840d1671ab9b4","contentHash":"a95cbf763701d0a789434295990fba3aed4ef1180dc32bd3dfb098a8277c88ec"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\routes\\api\\healthApi.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\routes\\api\\healthApi.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":96}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":46}},"6":{"start":{"line":24,"column":8},"end":{"line":30,"column":11}},"7":{"start":{"line":25,"column":27},"end":{"line":25,"column":75}},"8":{"start":{"line":26,"column":12},"end":{"line":29,"column":15}},"9":{"start":{"line":31,"column":8},"end":{"line":31,"column":27}},"10":{"start":{"line":34,"column":0},"end":{"line":34,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":13},"end":{"line":32,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":29},"end":{"line":24,"column":30}},"loc":{"start":{"line":24,"column":43},"end":{"line":30,"column":9}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":1},"f":{"0":1,"1":1,"2":1,"3":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/routes/api/healthApi.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/routes/api/healthApi.ts"],"names":[],"mappings":";;;;;AAAA,qCAA8D;AAC9D,iGAAyE,CAAC,iBAAiB;AAE3F,MAAM,SAAS;IAGb;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;IACzB,CAAC;IAED,MAAM;QACJ;;;;;;;;;;WAUG;QAEH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE;YACnD,MAAM,MAAM,GAAG,0BAAgB,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACtD,GAAG,CAAC,IAAI,CAAC;gBACP,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,GAAG;aACZ,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;CACF;AAED,kBAAe,IAAI,SAAS,EAAE,CAAC","sourcesContent":["import { type Request, type Response, Router } from 'express';\nimport HealthController from '../../controllers/Health/healthController'; // Correct import\n\nclass HealthApi {\n  private readonly router: Router;\n\n  constructor() {\n    this.router = Router();\n  }\n\n  routes() {\n    /**\n     * @openapi\n     * /api/cars/healthcheck:\n     *  get:\n     *     tags:\n     *     - Healthcheck\n     *     description: Responds if the app is up and running\n     *     responses:\n     *       200:\n     *         description: App is up and running\n     */\n\n    this.router.get('/', (req: Request, res: Response) => {\n      const result = HealthController.healthCheck(req, res);\n      res.json({\n        health: result,\n        status: 200\n      });\n    });\n\n    return this.router;\n  }\n}\n\nexport default new HealthApi();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1b870bba292084ca3ad1f69e320f50604694695f","contentHash":"3158c18a29204ba0b1aa6dbde749f3fd82526ba5495287761b52952d6b2f9320"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\controllers\\Health\\healthController.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\controllers\\Health\\healthController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":28}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":20}},"15":{"start":{"line":21,"column":8},"end":{"line":23,"column":11}},"16":{"start":{"line":22,"column":12},"end":{"line":22,"column":47}},"17":{"start":{"line":26,"column":0},"end":{"line":26,"column":41}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":18},"end":{"line":13,"column":21}},"line":13},"8":{"name":"(anonymous_8)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":26},"end":{"line":16,"column":5}},"line":14},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":22},"end":{"line":19,"column":5}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":23},"end":{"line":24,"column":5}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":21,"column":47},"end":{"line":21,"column":48}},"loc":{"start":{"line":21,"column":60},"end":{"line":23,"column":9}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":0,"6":2,"7":1,"8":0,"9":1,"10":1,"11":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/controllers/Health/healthController.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/controllers/Health/healthController.ts"],"names":[],"mappings":";;;;;;;;;;;AAQA,MAAM,gBAAgB;IACpB,gBAAe,CAAC;IAEhB,WAAW,CAAC,GAAY,EAAE,GAAa;QACrC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IACtB,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC;IACd,CAAC;IAEK,gBAAgB;;YACpB,OAAO,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC;KAAA;CACF;AAED,kBAAe,IAAI,gBAAgB,EAAE,CAAC","sourcesContent":["import { type Request, type Response } from 'express';\n\ninterface IHealthController {\n  healthCheck: (req: Request, res: Response) => void;\n  healthCheckSync: () => string;\n  healthCheckAsync: () => Promise<string>;\n}\n\nclass HealthController implements IHealthController {\n  constructor() {}\n\n  healthCheck(req: Request, res: Response): void {\n    res.sendStatus(200);\n  }\n\n  healthCheckSync(): string {\n    return 'OK';\n  }\n\n  async healthCheckAsync(): Promise<string> {\n    return await Promise.resolve('OK');\n  }\n}\n\nexport default new HealthController();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"353b9f5f558595203a66adf3e438bfb34739e873","contentHash":"620ae437ef8912b07cd18eab4a7bbab0e7570c3fdb9bb78dee4cb3453c8270a6"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\routes\\api\\carsApi.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\routes\\api\\carsApi.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":90}},"5":{"start":{"line":8,"column":16},"end":{"line":8,"column":62}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":65}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":46}},"8":{"start":{"line":26,"column":8},"end":{"line":26,"column":60}},"9":{"start":{"line":83,"column":8},"end":{"line":83,"column":94}},"10":{"start":{"line":140,"column":8},"end":{"line":140,"column":142}},"11":{"start":{"line":206,"column":8},"end":{"line":206,"column":67}},"12":{"start":{"line":207,"column":8},"end":{"line":207,"column":142}},"13":{"start":{"line":208,"column":8},"end":{"line":208,"column":103}},"14":{"start":{"line":209,"column":8},"end":{"line":209,"column":27}},"15":{"start":{"line":212,"column":0},"end":{"line":212,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":13},"end":{"line":210,"column":5}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1},"f":{"0":3,"1":1,"2":1},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/routes/api/carsApi.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/routes/api/carsApi.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AAEjC,2FAAmE;AACnE,+DAAuC;AAEvC,kEAAoD;AAEpD,MAAM,OAAO;IAGX;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;IACzB,CAAC;IAED,MAAM;QACJ;;;;;;;;;;WAUG;QACH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAc,CAAC,IAAI,CAAC,CAAC,CAAC,kBAAkB;QAE7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAuDG;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,cAAc,CAAC,cAAc,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC,CAAC,oBAAoB;QAEjG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAuDG;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,SAAS,EACT,CAAC,cAAc,CAAC,cAAc,EAAE,eAAK,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAC7D,wBAAc,CAAC,MAAM,CACtB,CAAC;QAEF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAgEG;QACH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,wBAAc,CAAC,IAAI,CAAC,CAAC,CAAC,sCAAsC;QACxF,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,UAAU,EACV,CAAC,cAAc,CAAC,cAAc,EAAE,eAAK,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAC7D,wBAAc,CAAC,MAAM,CACtB,CAAC,CAAC,4CAA4C;QAC/C,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC,cAAc,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC,CAAC,wCAAwC;QAE9H,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;CACF;AAED,kBAAe,IAAI,OAAO,EAAE,CAAC","sourcesContent":["import { Router } from 'express';\n\nimport CarsController from '../../controllers/Cars/carsController';\nimport Media from '../../config/media';\n\nimport AuthMiddleware from '../../middlewares/auth';\n\nclass CarsApi {\n  private readonly router: Router;\n\n  constructor() {\n    this.router = Router();\n  }\n\n  routes() {\n    /**\n     * @openapi\n     * /api/cars/:\n     *  get:\n     *     tags:\n     *     - CRUD - List All Cars\n     *     description: Responds if the app is up and running\n     *     responses:\n     *       200:\n     *         description: App is up and running\n     */\n    this.router.get('/', CarsController.list); // /api/books READ\n\n    /**\n     * @openapi\n     * '/api/cars/':\n     *   post:\n     *     tags:\n     *       - CRUD - Create New Car\n     *     summary: Create a new car\n     *     requestBody:\n     *       required: true\n     *       content:\n     *         application/json:\n     *           schema:\n     *             type: object\n     *             $ref: '#/components/schema/Car'\n     *     responses:\n     *       201:\n     *         description: Car created\n     *         content:\n     *           application/json:\n     *             schema:\n     *               $ref: '#/components/schema/CarResponse'\n     *     examples:\n     *       carExample:\n     *         summary: Example of a car object\n     *         value:\n     *           plate: IDN-5442\n     *           manufacture: Honda\n     *           model: Civic\n     *           image: ./images/car25.min.jpg\n     *           rentPerDay: 1000000\n     *           capacity: 2\n     *           description: Electric speed-sensitive variable-assist pwr steering. Steel side-door impact beams. Dual bright exhaust tips.\n     *           availableAt: 2022-03-23T15:49:05.563Z\n     *           transmission: CVT\n     *           available: false\n     *           type: Wagon\n     *           year: 2015\n     *           options:\n     *             - CD (Single Disc)\n     *             - Airbag: Passenger\n     *             - A/C: Front\n     *             - Power Locks\n     *             - Navigation\n     *             - Rear Window Defroster\n     *             - Rear Window Defroster\n     *             - MP3 (Single Disc)\n     *             - Airbag: Side\n     *           created_by: 1\n     *           updated_by: 1\n     *           specs:\n     *             - Electric speed-sensitive variable-assist pwr steering\n     *             - Steel side-door impact beams\n     *             - Dual bright exhaust tips\n     *             - Remote fuel lid release\n     *             - Traveler/mini trip computer\n     */\n    this.router.post('/', AuthMiddleware.authorizeAdmin, CarsController.create); // /api/books CREATE\n\n    /**\n     * @openapi\n     * '/api/cars/upload':\n     *   post:\n     *     tags:\n     *       - CRUD - Upload Car Image\n     *     summary: Create a new car\n     *     requestBody:\n     *       required: true\n     *       content:\n     *         multipart/form-data:\n     *           schema:\n     *             type: object\n     *             $ref: '#/components/schema/CarUpload'\n     *     responses:\n     *       201:\n     *         description: Car created\n     *         content:\n     *           application/json:\n     *             schema:\n     *               $ref: '#/components/schema/CarUploadResponse'\n     *     examples:\n     *       carExample:\n     *         summary: Example of a car object\n     *         value:\n     *           plate: IDN-5442\n     *           manufacture: Honda\n     *           model: Civic\n     *           image: ./images/car25.min.jpg\n     *           rentPerDay: 1000000\n     *           capacity: 2\n     *           description: Electric speed-sensitive variable-assist pwr steering. Steel side-door impact beams. Dual bright exhaust tips.\n     *           availableAt: 2022-03-23T15:49:05.563Z\n     *           transmission: CVT\n     *           available: false\n     *           type: Wagon\n     *           year: 2015\n     *           options:\n     *             - CD (Single Disc)\n     *             - Airbag: Passenger\n     *             - A/C: Front\n     *             - Power Locks\n     *             - Navigation\n     *             - Rear Window Defroster\n     *             - Rear Window Defroster\n     *             - MP3 (Single Disc)\n     *             - Airbag: Side\n     *           created_by: 1\n     *           updated_by: 1\n     *           specs:\n     *             - Electric speed-sensitive variable-assist pwr steering\n     *             - Steel side-door impact beams\n     *             - Dual bright exhaust tips\n     *             - Remote fuel lid release\n     *             - Traveler/mini trip computer\n     */\n    this.router.post(\n      '/upload',\n      [AuthMiddleware.authorizeAdmin, Media.upload.single('image')],\n      CarsController.upload\n    );\n\n    /**\n     * @openapi\n     * '/api/cars/{car_id}':\n     *  get:\n     *     tags:\n     *     - Cars\n     *     summary: Get a single car by the car_id\n     *     parameters:\n     *      - name: car_id\n     *        in: path\n     *        description: The id of the car\n     *        required: true\n     *     responses:\n     *       200:\n     *         description: Success\n     *         content:\n     *          application/json:\n     *           schema:\n     *              $ref: '#/components/schema/CarResponse'\n     *       404:\n     *         description: Product not found\n     *  put:\n     *     tags:\n     *     - Car\n     *     summary: Update a single car\n     *     parameters:\n     *      - name: car_id\n     *        in: path\n     *        description: The id of the car\n     *        required: true\n     *     requestBody:\n     *       required: true\n     *       content:\n     *         multipart/form-data:\n     *           schema:\n     *             type: object\n     *             $ref: '#/components/schema/Car'\n     *     responses:\n     *       200:\n     *         description: Success\n     *         content:\n     *          application/json:\n     *           schema:\n     *              $ref: '#/components/schema/CarResponse'\n     *       403:\n     *         description: Forbidden\n     *       404:\n     *         description: Product not found\n     *  delete:\n     *     tags:\n     *     - Car\n     *     summary: Delete a single car\n     *     parameters:\n     *      - name: car_id\n     *        in: path\n     *        description: The id of the car\n     *        required: true\n     *     responses:\n     *       200:\n     *         description: Product deleted\n     *       403:\n     *         description: Forbidden\n     *       404:\n     *         description: Product not found\n     */\n    this.router.get('/:car_id', CarsController.show); // /api/books/1 -> /api/books/:id READ\n    this.router.put(\n      '/:car_id',\n      [AuthMiddleware.authorizeAdmin, Media.upload.single('image')],\n      CarsController.update\n    ); // /api/books/1 -> /api/books/:car_id UPDATE\n    this.router.delete('/:car_id', AuthMiddleware.authorizeAdmin, CarsController.delete); // /api/books/1 -> /api/books/:id DELETE\n\n    return this.router;\n  }\n}\n\nexport default new CarsApi();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b68e1077218cbd26c7139c4e46068b86c01665f8","contentHash":"d574af5de70d79f96b06e04299a969bc911b938e9da965f3d462cc59d8f07a45"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\controllers\\Cars\\carsController.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\controllers\\Cars\\carsController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":22},"end":{"line":15,"column":76}},"16":{"start":{"line":16,"column":22},"end":{"line":16,"column":76}},"17":{"start":{"line":17,"column":26},"end":{"line":17,"column":81}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":62}},"19":{"start":{"line":19,"column":20},"end":{"line":24,"column":1}},"20":{"start":{"line":28,"column":8},"end":{"line":47,"column":11}},"21":{"start":{"line":29,"column":12},"end":{"line":46,"column":13}},"22":{"start":{"line":30,"column":30},"end":{"line":30,"column":39}},"23":{"start":{"line":31,"column":40},"end":{"line":31,"column":79}},"24":{"start":{"line":32,"column":37},"end":{"line":38,"column":18}},"25":{"start":{"line":39,"column":16},"end":{"line":39,"column":36}},"26":{"start":{"line":42,"column":16},"end":{"line":45,"column":19}},"27":{"start":{"line":50,"column":8},"end":{"line":76,"column":11}},"28":{"start":{"line":51,"column":12},"end":{"line":75,"column":13}},"29":{"start":{"line":52,"column":35},"end":{"line":52,"column":45}},"30":{"start":{"line":53,"column":28},"end":{"line":53,"column":81}},"31":{"start":{"line":54,"column":16},"end":{"line":60,"column":17}},"32":{"start":{"line":55,"column":20},"end":{"line":58,"column":23}},"33":{"start":{"line":59,"column":20},"end":{"line":59,"column":27}},"34":{"start":{"line":61,"column":37},"end":{"line":67,"column":18}},"35":{"start":{"line":68,"column":16},"end":{"line":68,"column":36}},"36":{"start":{"line":71,"column":16},"end":{"line":74,"column":19}},"37":{"start":{"line":79,"column":8},"end":{"line":113,"column":11}},"38":{"start":{"line":80,"column":12},"end":{"line":112,"column":13}},"39":{"start":{"line":81,"column":16},"end":{"line":99,"column":17}},"40":{"start":{"line":82,"column":39},"end":{"line":82,"column":73}},"41":{"start":{"line":83,"column":33},"end":{"line":83,"column":81}},"42":{"start":{"line":84,"column":41},"end":{"line":93,"column":22}},"43":{"start":{"line":85,"column":24},"end":{"line":91,"column":25}},"44":{"start":{"line":86,"column":28},"end":{"line":90,"column":31}},"45":{"start":{"line":92,"column":24},"end":{"line":92,"column":38}},"46":{"start":{"line":94,"column":20},"end":{"line":98,"column":23}},"47":{"start":{"line":100,"column":16},"end":{"line":104,"column":19}},"48":{"start":{"line":107,"column":16},"end":{"line":111,"column":19}},"49":{"start":{"line":118,"column":8},"end":{"line":137,"column":11}},"50":{"start":{"line":119,"column":12},"end":{"line":136,"column":13}},"51":{"start":{"line":120,"column":34},"end":{"line":120,"column":52}},"52":{"start":{"line":121,"column":36},"end":{"line":121,"column":61}},"53":{"start":{"line":122,"column":30},"end":{"line":122,"column":98}},"54":{"start":{"line":123,"column":36},"end":{"line":123,"column":84}},"55":{"start":{"line":124,"column":16},"end":{"line":124,"column":60}},"56":{"start":{"line":125,"column":31},"end":{"line":125,"column":75}},"57":{"start":{"line":126,"column":37},"end":{"line":131,"column":18}},"58":{"start":{"line":132,"column":16},"end":{"line":132,"column":36}},"59":{"start":{"line":135,"column":16},"end":{"line":135,"column":28}},"60":{"start":{"line":141,"column":8},"end":{"line":160,"column":11}},"61":{"start":{"line":142,"column":12},"end":{"line":159,"column":13}},"62":{"start":{"line":143,"column":27},"end":{"line":143,"column":91}},"63":{"start":{"line":144,"column":34},"end":{"line":144,"column":52}},"64":{"start":{"line":145,"column":36},"end":{"line":145,"column":61}},"65":{"start":{"line":146,"column":30},"end":{"line":146,"column":98}},"66":{"start":{"line":147,"column":36},"end":{"line":147,"column":84}},"67":{"start":{"line":148,"column":16},"end":{"line":148,"column":60}},"68":{"start":{"line":149,"column":31},"end":{"line":149,"column":93}},"69":{"start":{"line":150,"column":16},"end":{"line":155,"column":19}},"70":{"start":{"line":158,"column":16},"end":{"line":158,"column":28}},"71":{"start":{"line":163,"column":8},"end":{"line":178,"column":11}},"72":{"start":{"line":164,"column":12},"end":{"line":177,"column":13}},"73":{"start":{"line":165,"column":35},"end":{"line":165,"column":45}},"74":{"start":{"line":166,"column":16},"end":{"line":166,"column":73}},"75":{"start":{"line":167,"column":16},"end":{"line":170,"column":19}},"76":{"start":{"line":173,"column":16},"end":{"line":176,"column":19}},"77":{"start":{"line":181,"column":0},"end":{"line":181,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":18},"end":{"line":26,"column":21}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":19},"end":{"line":48,"column":5}},"line":27},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":47},"end":{"line":28,"column":48}},"loc":{"start":{"line":28,"column":60},"end":{"line":47,"column":9}},"line":28},"11":{"name":"(anonymous_11)","decl":{"start":{"line":49,"column":4},"end":{"line":49,"column":5}},"loc":{"start":{"line":49,"column":19},"end":{"line":77,"column":5}},"line":49},"12":{"name":"(anonymous_12)","decl":{"start":{"line":50,"column":47},"end":{"line":50,"column":48}},"loc":{"start":{"line":50,"column":60},"end":{"line":76,"column":9}},"line":50},"13":{"name":"(anonymous_13)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":21},"end":{"line":114,"column":5}},"line":78},"14":{"name":"(anonymous_14)","decl":{"start":{"line":79,"column":47},"end":{"line":79,"column":48}},"loc":{"start":{"line":79,"column":60},"end":{"line":113,"column":9}},"line":79},"15":{"name":"(anonymous_15)","decl":{"start":{"line":84,"column":93},"end":{"line":84,"column":94}},"loc":{"start":{"line":84,"column":110},"end":{"line":93,"column":21}},"line":84},"16":{"name":"(anonymous_16)","decl":{"start":{"line":116,"column":4},"end":{"line":116,"column":5}},"loc":{"start":{"line":116,"column":27},"end":{"line":138,"column":5}},"line":116},"17":{"name":"(anonymous_17)","decl":{"start":{"line":118,"column":47},"end":{"line":118,"column":48}},"loc":{"start":{"line":118,"column":60},"end":{"line":137,"column":9}},"line":118},"18":{"name":"(anonymous_18)","decl":{"start":{"line":139,"column":4},"end":{"line":139,"column":5}},"loc":{"start":{"line":139,"column":27},"end":{"line":161,"column":5}},"line":139},"19":{"name":"(anonymous_19)","decl":{"start":{"line":141,"column":47},"end":{"line":141,"column":48}},"loc":{"start":{"line":141,"column":60},"end":{"line":160,"column":9}},"line":141},"20":{"name":"(anonymous_20)","decl":{"start":{"line":162,"column":4},"end":{"line":162,"column":5}},"loc":{"start":{"line":162,"column":21},"end":{"line":179,"column":5}},"line":162},"21":{"name":"(anonymous_21)","decl":{"start":{"line":163,"column":47},"end":{"line":163,"column":48}},"loc":{"start":{"line":163,"column":60},"end":{"line":178,"column":9}},"line":163}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":54,"column":16},"end":{"line":60,"column":17}},"type":"if","locations":[{"start":{"line":54,"column":16},"end":{"line":60,"column":17}},{"start":{"line":54,"column":16},"end":{"line":60,"column":17}}],"line":54},"9":{"loc":{"start":{"line":81,"column":16},"end":{"line":99,"column":17}},"type":"if","locations":[{"start":{"line":81,"column":16},"end":{"line":99,"column":17}},{"start":{"line":81,"column":16},"end":{"line":99,"column":17}}],"line":81},"10":{"loc":{"start":{"line":85,"column":24},"end":{"line":91,"column":25}},"type":"if","locations":[{"start":{"line":85,"column":24},"end":{"line":91,"column":25}},{"start":{"line":85,"column":24},"end":{"line":91,"column":25}}],"line":85},"11":{"loc":{"start":{"line":122,"column":30},"end":{"line":122,"column":98}},"type":"cond-expr","locations":[{"start":{"line":122,"column":80},"end":{"line":122,"column":86}},{"start":{"line":122,"column":89},"end":{"line":122,"column":98}}],"line":122},"12":{"loc":{"start":{"line":122,"column":30},"end":{"line":122,"column":77}},"type":"binary-expr","locations":[{"start":{"line":122,"column":30},"end":{"line":122,"column":60}},{"start":{"line":122,"column":64},"end":{"line":122,"column":77}}],"line":122},"13":{"loc":{"start":{"line":143,"column":27},"end":{"line":143,"column":91}},"type":"cond-expr","locations":[{"start":{"line":143,"column":73},"end":{"line":143,"column":79}},{"start":{"line":143,"column":82},"end":{"line":143,"column":91}}],"line":143},"14":{"loc":{"start":{"line":143,"column":27},"end":{"line":143,"column":70}},"type":"binary-expr","locations":[{"start":{"line":143,"column":27},"end":{"line":143,"column":53}},{"start":{"line":143,"column":57},"end":{"line":143,"column":70}}],"line":143},"15":{"loc":{"start":{"line":146,"column":30},"end":{"line":146,"column":98}},"type":"cond-expr","locations":[{"start":{"line":146,"column":80},"end":{"line":146,"column":86}},{"start":{"line":146,"column":89},"end":{"line":146,"column":98}}],"line":146},"16":{"loc":{"start":{"line":146,"column":30},"end":{"line":146,"column":77}},"type":"binary-expr","locations":[{"start":{"line":146,"column":30},"end":{"line":146,"column":60}},{"start":{"line":146,"column":64},"end":{"line":146,"column":77}}],"line":146}},"s":{"0":1,"1":11,"2":2,"3":9,"4":10,"5":10,"6":0,"7":1,"8":1,"9":1,"10":19,"11":9,"12":1,"13":4,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":0,"27":2,"28":2,"29":2,"30":2,"31":2,"32":0,"33":0,"34":2,"35":2,"36":0,"37":2,"38":2,"39":2,"40":2,"41":2,"42":2,"43":2,"44":1,"45":1,"46":1,"47":0,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":0,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":0,"71":1,"72":1,"73":1,"74":1,"75":1,"76":0,"77":1},"f":{"0":9,"1":11,"2":2,"3":9,"4":10,"5":1,"6":19,"7":4,"8":1,"9":2,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"b":{"0":[1,1,1],"1":[9,2],"2":[9,9],"3":[8,11],"4":[9,9],"5":[1,1,1],"6":[4,0],"7":[4,4],"8":[0,2],"9":[2,0],"10":[1,1],"11":[0,1],"12":[1,1],"13":[0,1],"14":[1,1],"15":[0,1],"16":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/controllers/Cars/carsController.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/controllers/Cars/carsController.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Request, type Response, type NextFunction } from 'express';\nimport CarsService from '../../services/carsService'; // Import the created service\nimport authService from '../../services/authService';\nimport ResponseBuilder from '../../utils/ResponseBuilder';\n\nimport { type IRequestWithAuth } from '../../middlewares/auth';\n\nimport media from '../../config/media';\n\nimport { type IRestController } from '../../interfaces/IRest';\nimport { type IUser } from '../../interfaces/IAuth';\nimport { type ICar } from '../../models/carsModel';\n\nconst defaultMeta = {\n  page: 1,\n  size: 10,\n  totalData: 0,\n  totalPages: 0\n};\n\nclass CarsController implements IRestController {\n  constructor() { }\n  async list(req: Request, res: Response) {\n    try {\n      const query = req.query;\n      const { data, count } = await CarsService.list(query);\n\n      const responseData = ResponseBuilder.response({\n        res,\n        code: 200,\n        data: data,\n        message: 'success showing list of all cars',\n        meta: { ...defaultMeta, totalData: count }\n      });\n\n      return responseData;\n\n    } catch (error: any) {\n      res.status(500).json({\n        status: 'FAIL',\n        message: error.message\n      });\n    }\n  }\n\n  async show(req: Request, res: Response) {\n    try {\n      const { car_id } = req.params;\n\n      const car = await CarsService.get(parseInt(car_id, 10));\n\n      if (!car) {\n        res.status(404).json({\n          status: 'FAIL',\n          message: 'Car not found'\n        });\n        return;\n      }\n\n      const responseData = ResponseBuilder.response({\n        res,\n        code: 200,\n        data: car,\n        message: 'success showing a car',\n        meta: { ...defaultMeta, totalData: 1 }\n      });\n\n      return responseData;\n\n    } catch (error: any) {\n      res.status(422).json({\n        status: 'FAIL',\n        message: error.message\n      });\n    }\n  }\n\n  async upload(req: IRequestWithAuth, res: Response) {\n    try {\n      if (req.file) {\n        const fileBase64 = req.file.buffer.toString('base64');\n        const file = `data:${req.file.mimetype};base64,${fileBase64}`;\n        const resultUpload = await media.storage.uploader.upload(file, (err, result) => {\n          if (err) {\n            return ResponseBuilder.response({\n              code: 403,\n              res,\n              data: 'failed upload to storage'\n            });\n          }\n          return result;\n        });\n\n        return ResponseBuilder.response({\n          code: 200,\n          res,\n          data: resultUpload\n        });\n      }\n\n      ResponseBuilder.response({\n        code: 404,\n        res,\n        data: 'file not found'\n      });\n    } catch (error) {\n      ResponseBuilder.response({\n        code: 500,\n        data: 'upload failed',\n        res\n      });\n    }\n  };\n\n  async create(req: IRequestWithAuth, res: Response, next: NextFunction) {\n    try {\n      const userToken = req.body.userToken;\n\n      const bearerToken = userToken.split('Bearer');\n      const token = bearerToken[1]?.trim();\n\n      const userDetails = await authService.validateToken(token);\n\n      CarsService.setUser = userDetails;\n\n      const result = await CarsService.create(req.body as ICar);\n\n      const responseData = ResponseBuilder.response({\n        res,\n        code: 201,\n        data: result,\n        message: 'success create a new car'\n      });\n\n      return responseData;\n\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async update(req: IRequestWithAuth, res: Response, next: NextFunction) {\n    try {\n      const id = req.params?.car_id;\n      const userToken = req.body.userToken;\n\n      const bearerToken = userToken.split('Bearer');\n      const token = bearerToken[1]?.trim();\n\n      const userDetails = await authService.validateToken(token);\n\n      CarsService.setUser = userDetails;\n\n      const result = await CarsService.update(parseInt(id, 10), req.body as ICar);\n\n      return ResponseBuilder.response({\n        res,\n        code: 201,\n        data: result,\n        message: 'success updating car data'\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async delete(req: Request, res: Response) {\n    try {\n      const { car_id } = req.params;\n      await CarsService.delete(parseInt(car_id, 10));\n      res.status(200).json({\n        status: 'OK',\n        message: 'Successfully deleted car'\n      });\n    } catch (error: any) {\n      res.status(422).json({\n        status: 'FAIL',\n        message: error.message\n      });\n    }\n  }\n}\n\nexport default new CarsController();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2e51d37a528df87bad92856418de5cd5077238fd","contentHash":"310ccf76ed568eca49a9583ff411316e1df68e8febf5c5a5e41ef8878aa2a9a3"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\services\\carsService.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\services\\carsService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":25},"end":{"line":15,"column":83}},"16":{"start":{"line":20,"column":8},"end":{"line":30,"column":11}},"17":{"start":{"line":21,"column":12},"end":{"line":29,"column":13}},"18":{"start":{"line":22,"column":32},"end":{"line":22,"column":239}},"19":{"start":{"line":23,"column":16},"end":{"line":23,"column":41}},"20":{"start":{"line":24,"column":16},"end":{"line":24,"column":70}},"21":{"start":{"line":27,"column":16},"end":{"line":27,"column":33}},"22":{"start":{"line":28,"column":16},"end":{"line":28,"column":26}},"23":{"start":{"line":34,"column":8},"end":{"line":44,"column":11}},"24":{"start":{"line":35,"column":12},"end":{"line":43,"column":13}},"25":{"start":{"line":36,"column":32},"end":{"line":36,"column":160}},"26":{"start":{"line":37,"column":16},"end":{"line":37,"column":41}},"27":{"start":{"line":38,"column":16},"end":{"line":38,"column":52}},"28":{"start":{"line":39,"column":16},"end":{"line":39,"column":78}},"29":{"start":{"line":42,"column":16},"end":{"line":42,"column":26}},"30":{"start":{"line":47,"column":8},"end":{"line":54,"column":11}},"31":{"start":{"line":48,"column":12},"end":{"line":53,"column":13}},"32":{"start":{"line":49,"column":16},"end":{"line":49,"column":69}},"33":{"start":{"line":52,"column":16},"end":{"line":52,"column":26}},"34":{"start":{"line":57,"column":8},"end":{"line":69,"column":11}},"35":{"start":{"line":58,"column":12},"end":{"line":68,"column":13}},"36":{"start":{"line":59,"column":29},"end":{"line":59,"column":75}},"37":{"start":{"line":60,"column":30},"end":{"line":60,"column":74}},"38":{"start":{"line":61,"column":16},"end":{"line":64,"column":18}},"39":{"start":{"line":67,"column":16},"end":{"line":67,"column":26}},"40":{"start":{"line":72,"column":8},"end":{"line":82,"column":11}},"41":{"start":{"line":73,"column":12},"end":{"line":81,"column":13}},"42":{"start":{"line":74,"column":16},"end":{"line":76,"column":17}},"43":{"start":{"line":75,"column":20},"end":{"line":75,"column":54}},"44":{"start":{"line":77,"column":16},"end":{"line":77,"column":67}},"45":{"start":{"line":80,"column":16},"end":{"line":80,"column":26}},"46":{"start":{"line":85,"column":8},"end":{"line":85,"column":30}},"47":{"start":{"line":88,"column":8},"end":{"line":88,"column":26}},"48":{"start":{"line":91,"column":0},"end":{"line":91,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":18},"end":{"line":17,"column":21}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":24},"end":{"line":31,"column":5}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":47},"end":{"line":20,"column":48}},"loc":{"start":{"line":20,"column":60},"end":{"line":30,"column":9}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":32},"end":{"line":45,"column":5}},"line":32},"12":{"name":"(anonymous_12)","decl":{"start":{"line":34,"column":47},"end":{"line":34,"column":48}},"loc":{"start":{"line":34,"column":60},"end":{"line":44,"column":9}},"line":34},"13":{"name":"(anonymous_13)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":19},"end":{"line":55,"column":5}},"line":46},"14":{"name":"(anonymous_14)","decl":{"start":{"line":47,"column":47},"end":{"line":47,"column":48}},"loc":{"start":{"line":47,"column":60},"end":{"line":54,"column":9}},"line":47},"15":{"name":"(anonymous_15)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":17},"end":{"line":70,"column":5}},"line":56},"16":{"name":"(anonymous_16)","decl":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"loc":{"start":{"line":57,"column":60},"end":{"line":69,"column":9}},"line":57},"17":{"name":"(anonymous_17)","decl":{"start":{"line":71,"column":4},"end":{"line":71,"column":5}},"loc":{"start":{"line":71,"column":16},"end":{"line":83,"column":5}},"line":71},"18":{"name":"(anonymous_18)","decl":{"start":{"line":72,"column":47},"end":{"line":72,"column":48}},"loc":{"start":{"line":72,"column":60},"end":{"line":82,"column":9}},"line":72},"19":{"name":"(anonymous_19)","decl":{"start":{"line":84,"column":4},"end":{"line":84,"column":5}},"loc":{"start":{"line":84,"column":26},"end":{"line":86,"column":5}},"line":84},"20":{"name":"(anonymous_20)","decl":{"start":{"line":87,"column":4},"end":{"line":87,"column":5}},"loc":{"start":{"line":87,"column":18},"end":{"line":89,"column":5}},"line":87}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":92},"end":{"line":22,"column":157}},"type":"cond-expr","locations":[{"start":{"line":22,"column":138},"end":{"line":22,"column":144}},{"start":{"line":22,"column":147},"end":{"line":22,"column":157}}],"line":22},"9":{"loc":{"start":{"line":22,"column":92},"end":{"line":22,"column":135}},"type":"binary-expr","locations":[{"start":{"line":22,"column":92},"end":{"line":22,"column":118}},{"start":{"line":22,"column":122},"end":{"line":22,"column":135}}],"line":22},"10":{"loc":{"start":{"line":22,"column":171},"end":{"line":22,"column":236}},"type":"cond-expr","locations":[{"start":{"line":22,"column":217},"end":{"line":22,"column":223}},{"start":{"line":22,"column":226},"end":{"line":22,"column":236}}],"line":22},"11":{"loc":{"start":{"line":22,"column":171},"end":{"line":22,"column":214}},"type":"binary-expr","locations":[{"start":{"line":22,"column":171},"end":{"line":22,"column":197}},{"start":{"line":22,"column":201},"end":{"line":22,"column":214}}],"line":22},"12":{"loc":{"start":{"line":36,"column":92},"end":{"line":36,"column":157}},"type":"cond-expr","locations":[{"start":{"line":36,"column":138},"end":{"line":36,"column":144}},{"start":{"line":36,"column":147},"end":{"line":36,"column":157}}],"line":36},"13":{"loc":{"start":{"line":36,"column":92},"end":{"line":36,"column":135}},"type":"binary-expr","locations":[{"start":{"line":36,"column":92},"end":{"line":36,"column":118}},{"start":{"line":36,"column":122},"end":{"line":36,"column":135}}],"line":36},"14":{"loc":{"start":{"line":74,"column":16},"end":{"line":76,"column":17}},"type":"if","locations":[{"start":{"line":74,"column":16},"end":{"line":76,"column":17}},{"start":{"line":74,"column":16},"end":{"line":76,"column":17}}],"line":74}},"s":{"0":1,"1":3,"2":1,"3":2,"4":3,"5":3,"6":0,"7":0,"8":0,"9":0,"10":5,"11":2,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":1,"41":1,"42":1,"43":0,"44":1,"45":0,"46":2,"47":0,"48":1},"f":{"0":2,"1":3,"2":1,"3":2,"4":3,"5":0,"6":5,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":1,"18":1,"19":2,"20":0},"b":{"0":[1,1,1],"1":[2,1],"2":[2,2],"3":[2,3],"4":[2,2],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/services/carsService.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/services/carsService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oFAA8E;AAI9E,MAAM,WAAW;IAGf,gBAAe,CAAC;IAEV,MAAM,CAAC,WAAgB;;;YAC3B,IAAI,CAAC;gBACH,MAAM,OAAO,mCACR,WAAW,KACd,UAAU,EAAE,MAAA,IAAI,CAAC,KAAK,0CAAE,OAAO,EAC/B,UAAU,EAAE,MAAA,IAAI,CAAC,KAAK,0CAAE,OAAO,GAChC,CAAC;gBAEF,OAAO,OAAO,CAAC,SAAS,CAAC;gBAEzB,OAAO,MAAM,wBAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC9C,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,MAAM,GAAG,CAAC;YACZ,CAAC;;KACF;IAEK,MAAM,CAAC,MAAc,EAAE,WAAgB;;;YAC3C,IAAI,CAAC;gBACH,MAAM,OAAO,mCACR,WAAW,KACd,UAAU,EAAE,MAAA,IAAI,CAAC,KAAK,0CAAE,OAAO,GAChC,CAAC;gBAEF,OAAO,OAAO,CAAC,SAAS,CAAC;gBAEzB,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;gBAEpC,OAAO,MAAM,wBAAc,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YACtD,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACb,MAAM,GAAG,CAAC;YACZ,CAAC;;KACF;IAEK,MAAM,CAAC,MAAc;;YACzB,IAAI,CAAC;gBACH,OAAO,MAAM,wBAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC7C,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACb,MAAM,GAAG,CAAC;YACZ,CAAC;QACH,CAAC;KAAA;IAEK,IAAI,CAAC,MAAgB;;YACzB,IAAI,CAAC;gBACH,MAAM,IAAI,GAAG,MAAM,wBAAc,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBAClD,MAAM,KAAK,GAAG,MAAM,wBAAc,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAEjD,OAAO;oBACL,IAAI;oBACJ,KAAK;iBACN,CAAC;YACJ,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACb,MAAM,GAAG,CAAC;YACZ,CAAC;QACH,CAAC;KAAA;IAEK,GAAG,CAAC,MAAc;;YACtB,IAAI,CAAC;gBACH,IAAI,CAAC,MAAM,EAAE,CAAC;oBACZ,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;gBACpC,CAAC;gBACD,OAAO,MAAM,wBAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC3C,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACb,MAAM,GAAG,CAAC;YACZ,CAAC;QACH,CAAC;KAAA;IAED,IAAI,OAAO,CAAC,QAAe;QACzB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;IACxB,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;CACF;AAED,kBAAe,IAAI,WAAW,EAAE,CAAC","sourcesContent":["import CarsRepository, { type IParams } from '../repositories/carsRepository';\n\nimport { type IUser } from '../interfaces/IAuth';\n\nclass CarsService {\n  private _user: IUser | undefined;\n\n  constructor() {}\n\n  async create(requestBody: any) {\n    try {\n      const payload = {\n        ...requestBody,\n        created_by: this._user?.user_id,\n        updated_by: this._user?.user_id\n      };\n\n      delete payload.userToken;\n\n      return await CarsRepository.create(payload);\n    } catch (err) {\n      console.log(err);\n      throw err;\n    }\n  }\n\n  async update(car_id: number, requestBody: any) {\n    try {\n      const payload = {\n        ...requestBody,\n        updated_by: this._user?.user_id\n      };\n\n      delete payload.userToken;\n\n      console.log('Payload >>>', payload);\n\n      return await CarsRepository.update(car_id, payload);\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async delete(car_id: number) {\n    try {\n      return await CarsRepository.delete(car_id);\n    } catch (err) {\n      throw err;\n    }\n  }\n \n  async list(params?: IParams) {\n    try {\n      const data = await CarsRepository.findAll(params);\n      const count = await CarsRepository.count(params);\n\n      return {\n        data,\n        count\n      };\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async get(car_id: number) {\n    try {\n      if (!car_id) {\n        throw new Error('Invalid car id');\n      }\n      return await CarsRepository.find(car_id);\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  set setUser(userData: IUser) {\n    this._user = userData;\n  }\n\n  get getUser() {\n    return this._user;\n  }\n}\n\nexport default new CarsService();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2155dc98e6cab52f28687b5c37bc103a452c6864","contentHash":"a47d326ee8ae454f99166ce1073837ec942a60cede1a05f30d187ea8a85bf07f"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\repositories\\carsRepository.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\repositories\\carsRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":20},"end":{"line":15,"column":67}},"16":{"start":{"line":18,"column":8},"end":{"line":18,"column":62}},"17":{"start":{"line":21,"column":8},"end":{"line":21,"column":81}},"18":{"start":{"line":24,"column":8},"end":{"line":24,"column":62}},"19":{"start":{"line":27,"column":8},"end":{"line":27,"column":60}},"20":{"start":{"line":30,"column":8},"end":{"line":39,"column":11}},"21":{"start":{"line":31,"column":25},"end":{"line":31,"column":52}},"22":{"start":{"line":32,"column":12},"end":{"line":36,"column":13}},"23":{"start":{"line":33,"column":16},"end":{"line":35,"column":113}},"24":{"start":{"line":37,"column":12},"end":{"line":37,"column":56}},"25":{"start":{"line":38,"column":12},"end":{"line":38,"column":30}},"26":{"start":{"line":42,"column":8},"end":{"line":50,"column":11}},"27":{"start":{"line":43,"column":28},"end":{"line":43,"column":71}},"28":{"start":{"line":44,"column":12},"end":{"line":48,"column":13}},"29":{"start":{"line":45,"column":16},"end":{"line":47,"column":113}},"30":{"start":{"line":49,"column":12},"end":{"line":49,"column":52}},"31":{"start":{"line":53,"column":0},"end":{"line":53,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":23},"end":{"line":19,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":31},"end":{"line":22,"column":5}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":19},"end":{"line":25,"column":5}},"line":23},"11":{"name":"(anonymous_11)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":17},"end":{"line":28,"column":5}},"line":26},"12":{"name":"(anonymous_12)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":20},"end":{"line":40,"column":5}},"line":29},"13":{"name":"(anonymous_13)","decl":{"start":{"line":30,"column":47},"end":{"line":30,"column":48}},"loc":{"start":{"line":30,"column":60},"end":{"line":39,"column":9}},"line":30},"14":{"name":"(anonymous_14)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":18},"end":{"line":51,"column":5}},"line":41},"15":{"name":"(anonymous_15)","decl":{"start":{"line":42,"column":47},"end":{"line":42,"column":48}},"loc":{"start":{"line":42,"column":60},"end":{"line":50,"column":9}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":32,"column":12},"end":{"line":36,"column":13}},"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":36,"column":13}},{"start":{"line":32,"column":12},"end":{"line":36,"column":13}}],"line":32},"9":{"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":77}},"type":"cond-expr","locations":[{"start":{"line":32,"column":55},"end":{"line":32,"column":61}},{"start":{"line":32,"column":64},"end":{"line":32,"column":77}}],"line":32},"10":{"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":52}},"type":"binary-expr","locations":[{"start":{"line":32,"column":16},"end":{"line":32,"column":31}},{"start":{"line":32,"column":35},"end":{"line":32,"column":52}}],"line":32},"11":{"loc":{"start":{"line":34,"column":51},"end":{"line":34,"column":112}},"type":"cond-expr","locations":[{"start":{"line":34,"column":90},"end":{"line":34,"column":96}},{"start":{"line":34,"column":99},"end":{"line":34,"column":112}}],"line":34},"12":{"loc":{"start":{"line":34,"column":51},"end":{"line":34,"column":87}},"type":"binary-expr","locations":[{"start":{"line":34,"column":51},"end":{"line":34,"column":66}},{"start":{"line":34,"column":70},"end":{"line":34,"column":87}}],"line":34},"13":{"loc":{"start":{"line":35,"column":47},"end":{"line":35,"column":108}},"type":"cond-expr","locations":[{"start":{"line":35,"column":86},"end":{"line":35,"column":92}},{"start":{"line":35,"column":95},"end":{"line":35,"column":108}}],"line":35},"14":{"loc":{"start":{"line":35,"column":47},"end":{"line":35,"column":83}},"type":"binary-expr","locations":[{"start":{"line":35,"column":47},"end":{"line":35,"column":62}},{"start":{"line":35,"column":66},"end":{"line":35,"column":83}}],"line":35},"15":{"loc":{"start":{"line":44,"column":12},"end":{"line":48,"column":13}},"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":48,"column":13}},{"start":{"line":44,"column":12},"end":{"line":48,"column":13}}],"line":44},"16":{"loc":{"start":{"line":44,"column":16},"end":{"line":44,"column":77}},"type":"cond-expr","locations":[{"start":{"line":44,"column":55},"end":{"line":44,"column":61}},{"start":{"line":44,"column":64},"end":{"line":44,"column":77}}],"line":44},"17":{"loc":{"start":{"line":44,"column":16},"end":{"line":44,"column":52}},"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":31}},{"start":{"line":44,"column":35},"end":{"line":44,"column":52}}],"line":44},"18":{"loc":{"start":{"line":46,"column":51},"end":{"line":46,"column":112}},"type":"cond-expr","locations":[{"start":{"line":46,"column":90},"end":{"line":46,"column":96}},{"start":{"line":46,"column":99},"end":{"line":46,"column":112}}],"line":46},"19":{"loc":{"start":{"line":46,"column":51},"end":{"line":46,"column":87}},"type":"binary-expr","locations":[{"start":{"line":46,"column":51},"end":{"line":46,"column":66}},{"start":{"line":46,"column":70},"end":{"line":46,"column":87}}],"line":46},"20":{"loc":{"start":{"line":47,"column":47},"end":{"line":47,"column":108}},"type":"cond-expr","locations":[{"start":{"line":47,"column":86},"end":{"line":47,"column":92}},{"start":{"line":47,"column":95},"end":{"line":47,"column":108}}],"line":47},"21":{"loc":{"start":{"line":47,"column":47},"end":{"line":47,"column":83}},"type":"binary-expr","locations":[{"start":{"line":47,"column":47},"end":{"line":47,"column":62}},{"start":{"line":47,"column":66},"end":{"line":47,"column":83}}],"line":47}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":4,"11":2,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":1,"20":1,"21":1,"22":1,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":1,"31":1},"f":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":0,"6":4,"7":1,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1,"14":1,"15":1},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[2,2],"4":[2,2],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,1],"9":[0,1],"10":[1,1],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,1],"16":[0,1],"17":[1,1],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/repositories/carsRepository.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/repositories/carsRepository.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oEAAuC;AAQvC,MAAM,cAAc;IAClB,MAAM,CAAC,UAAe;QACpB,OAAO,mBAAI,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IACzC,CAAC;IAED,MAAM,CAAC,MAAc,EAAE,UAAe;QACpC,OAAO,mBAAI,CAAC,KAAK,EAAE,CAAC,iBAAiB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAC5D,CAAC;IAED,MAAM,CAAC,MAAc;QACnB,OAAO,mBAAI,CAAC,KAAK,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,IAAI,CAAC,MAAc;QACjB,OAAO,mBAAI,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC;IAEK,OAAO,CAAC,MAAgB;;YAC5B,MAAM,IAAI,GAAG,mBAAI,CAAC,KAAK,EAAE,CAAC;YAE1B,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,EAAE,CAAC;gBACnB,IAAI;qBACD,UAAU,CAAC,aAAa,EAAE,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,GAAG,CAAC;qBAChD,YAAY,CAAC,OAAO,EAAE,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,GAAG,CAAC,CAAC;YAClD,CAAC;YAED,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;YAE5C,OAAO,MAAM,IAAI,CAAC;QACpB,CAAC;KAAA;IAEK,KAAK,CAAC,MAAgB;;YAC1B,MAAM,OAAO,GAAG,mBAAI,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAC7C,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,EAAE,CAAC;gBACnB,OAAO;qBACJ,UAAU,CAAC,aAAa,EAAE,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,GAAG,CAAC;qBAChD,YAAY,CAAC,OAAO,EAAE,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,GAAG,CAAC,CAAC;YAClD,CAAC;YAED,OAAO,MAAM,CAAE,CAAC,MAAM,OAAO,CAAyC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QACnF,CAAC;KAAA;CACF;AAED,kBAAe,IAAI,cAAc,EAAE,CAAC","sourcesContent":["import Cars from '../models/carsModel';\n\nexport interface IParams {\n  page?: number;\n  size?: number;\n  search?: string;\n}\n\nclass CarsRepository {\n  create(createArgs: any) {\n    return Cars.query().insert(createArgs);\n  }\n\n  update(car_id: number, updateArgs: any) {\n    return Cars.query().patchAndFetchById(car_id, updateArgs);\n  }\n\n  delete(car_id: number) {\n    return Cars.query().deleteById(car_id);\n  }\n\n  find(car_id: number) {\n    return Cars.query().findById(car_id);\n  }\n\n  async findAll(params?: IParams) {\n    const cars = Cars.query();\n\n    if (params?.search) {\n      cars\n        .whereILike('manufacture', `%${params?.search}%`)\n        .orWhereILike('model', `%${params?.search}%`);\n    }\n\n    cars.orderBy('created_at', 'desc', 'first');\n\n    return await cars;\n  }\n\n  async count(params?: IParams) {\n    const allCars = Cars.query().count('car_id');\n    if (params?.search) {\n      allCars\n        .whereILike('manufacture', `%${params?.search}%`)\n        .orWhereILike('model', `%${params?.search}%`);\n    }\n\n    return Number(((await allCars) as unknown as Array<{ count: number }>)[0].count);\n  }\n}\n\nexport default new CarsRepository();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"34c2de21907340c6cd535b6207bb92fc00e7e157","contentHash":"8b1ae3d9a2f8fa72b7ee12f0a066f9cc89e6f7c3dfd33db6d962cf22c696e21a"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\models\\carsModel.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\models\\carsModel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":65}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":24}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":51}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":51}},"10":{"start":{"line":25,"column":8},"end":{"line":25,"column":20}},"11":{"start":{"line":28,"column":8},"end":{"line":67,"column":10}},"12":{"start":{"line":70,"column":0},"end":{"line":70,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":27},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":26},"end":{"line":15,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":20},"end":{"line":19,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":20},"end":{"line":23,"column":5}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":28},"end":{"line":26,"column":5}},"line":24},"6":{"name":"(anonymous_6)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":28},"end":{"line":68,"column":5}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":10,"7":1,"8":0,"9":0,"10":0,"11":1,"12":1},"f":{"0":1,"1":10,"2":1,"3":0,"4":0,"5":0,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/models/carsModel.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/models/carsModel.ts"],"names":[],"mappings":";;;;;AAAA,yCAAkC;AAClC,kEAA0C;AAE1C,iBAAK,CAAC,IAAI,CAAC,kBAAQ,CAAC,CAAC;AAsBrB,MAAM,IAAK,SAAQ,iBAAK;IACtB,MAAM,KAAK,SAAS;QAClB,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,MAAM,KAAK,QAAQ;QACjB,OAAO,QAAQ,CAAC,CAAC,kDAAkD;IACrE,CAAC;IAED,aAAa;QACX,mBAAmB;QACnB,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAC7C,CAAC;IAED,aAAa;QACX,mBAAmB;QACnB,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAC7C,CAAC;IAED,MAAM,KAAK,UAAU;QACnB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,KAAK,UAAU;QACnB,OAAO;YACL,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE;gBACR,OAAO;gBACP,aAAa;gBACb,OAAO;gBACP,OAAO;gBACP,MAAM;gBACN,aAAa;gBACb,cAAc;gBACd,UAAU;gBACV,YAAY;gBACZ,aAAa;gBACb,WAAW;gBACX,MAAM;gBACN,SAAS;gBACT,OAAO;gBACP,YAAY;gBACZ,YAAY;aACb;YACD,UAAU,EAAE;gBACV,MAAM,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;gBAC3B,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE;gBACtD,WAAW,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE;gBAC5D,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACzB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE;gBACtD,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE;gBACtD,WAAW,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC/B,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE;gBAC7D,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC5B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC9B,WAAW,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC/B,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;gBAC9B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE;gBACtC,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC3B,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACzB,UAAU,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;gBAC/B,UAAU,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;aAChC;SACF,CAAC;IACJ,CAAC;CACF;AAED,kBAAe,IAAI,CAAC","sourcesContent":["import { Model } from 'objection';\nimport database from '../config/database';\n\nModel.knex(database);\n\nexport interface ICar {\n  car_id: number;\n  plate: string;\n  manufacture: string;\n  image: string;\n  model: string;\n  type: string;\n  description: string;\n  transmission: string;\n  capacity: number;\n  rentPerDay: string;\n  availableAt: string;\n  available: boolean;\n  year: number;\n  options: object;\n  specs: object;\n  created_by: number;\n  updated_by: number;\n}\n\nclass Cars extends Model {\n  static get tableName(): string {\n    return 'cars';\n  }\n\n  static get idColumn(): string {\n    return 'car_id'; // Specify the actual primary key column name here\n  }\n\n  $beforeInsert() {\n    // @ts-expect-error\n    this.created_at = new Date().toISOString();\n  }\n\n  $beforeUpdate() {\n    // @ts-expect-error\n    this.updated_at = new Date().toISOString();\n  }\n\n  static get timestamps() {\n    return true;\n  }\n\n  static get jsonSchema(): object {\n    return {\n      type: 'object',\n      required: [\n        'plate',\n        'manufacture',\n        'image',\n        'model',\n        'type',\n        'description',\n        'transmission',\n        'capacity',\n        'rentPerDay',\n        'availableAt',\n        'available',\n        'year',\n        'options',\n        'specs',\n        'created_by',\n        'updated_by'\n      ],\n      properties: {\n        car_id: { type: 'integer' },\n        plate: { type: 'string', minLength: 1, maxLength: 10 },\n        manufacture: { type: 'string', minLength: 1, maxLength: 20 },\n        image: { type: 'string' },\n        model: { type: 'string', minLength: 1, maxLength: 20 },\n        type: { type: 'string', minLength: 1, maxLength: 100 },\n        description: { type: 'string' },\n        transmission: { type: 'string', minLength: 1, maxLength: 20 },\n        capacity: { type: 'number' },\n        rentPerDay: { type: 'string' },\n        availableAt: { type: 'string' },\n        available: { type: 'boolean' },\n        year: { type: 'number', maxLength: 4 },\n        options: { type: 'object' },\n        specs: { type: 'object' },\n        created_by: { type: 'integer' },\n        updated_by: { type: 'integer' }\n      }\n    };\n  }\n}\n\nexport default Cars;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8cd0d807b4c10daf73c018304d35b1218d8f7417","contentHash":"a286408c00361dd8d7d04ce2e6dcede38e684b41ee8d46130fdd4bbf7be9f1e5"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\config\\database.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\config\\database.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":47}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":47}},"5":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"6":{"start":{"line":13,"column":12},"end":{"line":13,"column":53}},"7":{"start":{"line":15,"column":8},"end":{"line":15,"column":33}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":24}},"9":{"start":{"line":22,"column":0},"end":{"line":30,"column":1}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":50}},"11":{"start":{"line":25,"column":5},"end":{"line":30,"column":1}},"12":{"start":{"line":26,"column":4},"end":{"line":26,"column":45}},"13":{"start":{"line":29,"column":4},"end":{"line":29,"column":51}},"14":{"start":{"line":31,"column":0},"end":{"line":33,"column":1}},"15":{"start":{"line":32,"column":4},"end":{"line":32,"column":67}},"16":{"start":{"line":34,"column":15},"end":{"line":37,"column":1}},"17":{"start":{"line":38,"column":17},"end":{"line":38,"column":48}},"18":{"start":{"line":39,"column":0},"end":{"line":39,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":24},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":31},"end":{"line":16,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":13},"end":{"line":19,"column":5}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},{"start":{"line":12,"column":8},"end":{"line":14,"column":9}}],"line":12},"4":{"loc":{"start":{"line":22,"column":0},"end":{"line":30,"column":1}},"type":"if","locations":[{"start":{"line":22,"column":0},"end":{"line":30,"column":1}},{"start":{"line":22,"column":0},"end":{"line":30,"column":1}}],"line":22},"5":{"loc":{"start":{"line":25,"column":5},"end":{"line":30,"column":1}},"type":"if","locations":[{"start":{"line":25,"column":5},"end":{"line":30,"column":1}},{"start":{"line":25,"column":5},"end":{"line":30,"column":1}}],"line":25},"6":{"loc":{"start":{"line":31,"column":0},"end":{"line":33,"column":1}},"type":"if","locations":[{"start":{"line":31,"column":0},"end":{"line":33,"column":1}},{"start":{"line":31,"column":0},"end":{"line":33,"column":1}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":0,"16":1,"17":1,"18":1},"f":{"0":1,"1":1,"2":1,"3":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[1,0],"4":[0,1],"5":[1,0],"6":[0,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/config/database.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/config/database.ts"],"names":[],"mappings":";;;;;AAAA,gDAAuC;AAEvC,MAAM,QAAQ;IAIZ,YAAY,MAAW;QACrB,IAAI,CAAC,GAAG,GAAG,IAAA,cAAI,EAAC,MAAM,CAAC,CAAC;IAC1B,CAAC;IAEM,MAAM,CAAC,WAAW,CAAC,MAAW;QACnC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACvB,QAAQ,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC3C,CAAC;QACD,OAAO,QAAQ,CAAC,QAAQ,CAAC;IAC3B,CAAC;IAED,IAAI,EAAE;QACJ,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;CACF;AAED,IAAI,aAAa,CAAC;AAElB,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE,CAAC;IAC1C,aAAa,GAAG,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;AAChD,CAAC;KAAM,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,EAAE,CAAC;IAClD,aAAa,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;AAC3C,CAAC;KAAM,CAAC;IACN,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;AACjD,CAAC;AAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACnB,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;AACjE,CAAC;AAED,MAAM,MAAM,GAAG;IACb,MAAM,EAAE,YAAY;IACpB,UAAU,EAAE,aAAa;CAC1B,CAAC;AAEF,MAAM,QAAQ,GAAG,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;AAEjD,kBAAe,QAAQ,CAAC","sourcesContent":["import knex, { type Knex } from 'knex';\n\nclass Database {\n  private static instance: Database;\n  private readonly _db: Knex;\n\n  constructor(config: any) {\n    this._db = knex(config);\n  }\n\n  public static getInstance(config: any): Database {\n    if (!Database.instance) {\n      Database.instance = new Database(config);\n    }\n    return Database.instance;\n  }\n\n  get db(): Knex {\n    return this._db;\n  }\n}\n\nlet connectionURL;\n\nif (process.env.NODE_ENV === 'production') {\n  connectionURL = process.env.DATABASE_URL_PROD;\n} else if (process.env.NODE_ENV === 'development') {\n  connectionURL = process.env.DATABASE_URL;\n} else {\n  throw new Error('NODE_ENV not set or invalid');\n}\n\nif (!connectionURL) {\n  throw new Error('DATABASE_URL environment variable not found');\n}\n\nconst config = {\n  client: 'postgresql',\n  connection: connectionURL\n};\n\nconst database = Database.getInstance(config).db;\n\nexport default database;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c8ab73432af1ef2ca516724df0797c417ac75418","contentHash":"898371a0bfa9df2bd682589509607c9e5bb95655f28dc17cf9aa304d647b7d4d"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\services\\authService.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\services\\authService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":17},"end":{"line":15,"column":51}},"16":{"start":{"line":16,"column":23},"end":{"line":16,"column":63}},"17":{"start":{"line":17,"column":25},"end":{"line":17,"column":83}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":34}},"19":{"start":{"line":22,"column":8},"end":{"line":29,"column":11}},"20":{"start":{"line":23,"column":12},"end":{"line":28,"column":13}},"21":{"start":{"line":24,"column":16},"end":{"line":24,"column":74}},"22":{"start":{"line":27,"column":16},"end":{"line":27,"column":26}},"23":{"start":{"line":32,"column":8},"end":{"line":47,"column":11}},"24":{"start":{"line":33,"column":12},"end":{"line":46,"column":13}},"25":{"start":{"line":34,"column":29},"end":{"line":34,"column":78}},"26":{"start":{"line":35,"column":16},"end":{"line":37,"column":17}},"27":{"start":{"line":36,"column":20},"end":{"line":36,"column":54}},"28":{"start":{"line":38,"column":40},"end":{"line":38,"column":95}},"29":{"start":{"line":39,"column":16},"end":{"line":41,"column":17}},"30":{"start":{"line":40,"column":20},"end":{"line":40,"column":56}},"31":{"start":{"line":42,"column":16},"end":{"line":42,"column":32}},"32":{"start":{"line":45,"column":16},"end":{"line":45,"column":26}},"33":{"start":{"line":50,"column":22},"end":{"line":50,"column":83}},"34":{"start":{"line":51,"column":8},"end":{"line":51,"column":21}},"35":{"start":{"line":54,"column":8},"end":{"line":57,"column":11}},"36":{"start":{"line":55,"column":28},"end":{"line":55,"column":73}},"37":{"start":{"line":56,"column":12},"end":{"line":56,"column":27}},"38":{"start":{"line":60,"column":8},"end":{"line":62,"column":11}},"39":{"start":{"line":61,"column":12},"end":{"line":61,"column":38}},"40":{"start":{"line":65,"column":0},"end":{"line":65,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":18},"end":{"line":20,"column":21}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":26},"end":{"line":30,"column":5}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":22,"column":47},"end":{"line":22,"column":48}},"loc":{"start":{"line":22,"column":60},"end":{"line":29,"column":9}},"line":22},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":27},"end":{"line":48,"column":5}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":32,"column":47},"end":{"line":32,"column":48}},"loc":{"start":{"line":32,"column":60},"end":{"line":47,"column":9}},"line":32},"13":{"name":"(anonymous_13)","decl":{"start":{"line":49,"column":4},"end":{"line":49,"column":5}},"loc":{"start":{"line":49,"column":24},"end":{"line":52,"column":5}},"line":49},"14":{"name":"(anonymous_14)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":25},"end":{"line":58,"column":5}},"line":53},"15":{"name":"(anonymous_15)","decl":{"start":{"line":54,"column":47},"end":{"line":54,"column":48}},"loc":{"start":{"line":54,"column":60},"end":{"line":57,"column":9}},"line":54},"16":{"name":"(anonymous_16)","decl":{"start":{"line":59,"column":4},"end":{"line":59,"column":5}},"loc":{"start":{"line":59,"column":29},"end":{"line":63,"column":5}},"line":59},"17":{"name":"(anonymous_17)","decl":{"start":{"line":60,"column":47},"end":{"line":60,"column":48}},"loc":{"start":{"line":60,"column":60},"end":{"line":62,"column":9}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":35,"column":16},"end":{"line":37,"column":17}},"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":37,"column":17}},{"start":{"line":35,"column":16},"end":{"line":37,"column":17}}],"line":35},"9":{"loc":{"start":{"line":39,"column":16},"end":{"line":41,"column":17}},"type":"if","locations":[{"start":{"line":39,"column":16},"end":{"line":41,"column":17}},{"start":{"line":39,"column":16},"end":{"line":41,"column":17}}],"line":39}},"s":{"0":1,"1":4,"2":0,"3":4,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":8,"11":4,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":2,"24":2,"25":2,"26":2,"27":0,"28":2,"29":2,"30":0,"31":2,"32":0,"33":2,"34":2,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1},"f":{"0":4,"1":4,"2":0,"3":4,"4":4,"5":0,"6":8,"7":3,"8":1,"9":0,"10":0,"11":2,"12":2,"13":2,"14":1,"15":1,"16":1,"17":1},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[4,4],"4":[4,4],"5":[1,1,1],"6":[1,2],"7":[3,3],"8":[0,2],"9":[0,2]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/services/authService.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/services/authService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oDAA4B;AAC5B,gEAA+B;AAE/B,oFAA4D;AAI5D,MAAM,OAAO,GAAG,kBAAkB,CAAC;AAEnC,MAAM,WAAW;IACf,gBAAe,CAAC;IACV,QAAQ,CAAC,WAAgB;;YAC7B,IAAI,CAAC;gBACH,OAAO,MAAM,wBAAc,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YAClD,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACb,MAAM,GAAG,CAAC;YACZ,CAAC;QACH,CAAC;KAAA;IAEK,KAAK,CAAC,KAAa,EAAE,QAAgB;;YACzC,IAAI,CAAC;gBACH,MAAM,IAAI,GAAG,MAAM,wBAAc,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBACrD,IAAI,CAAC,IAAI,EAAE,CAAC;oBACV,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;gBACpC,CAAC;gBAED,MAAM,eAAe,GAAG,MAAM,gBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACtE,IAAI,CAAC,eAAe,EAAE,CAAC;oBACrB,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;gBACtC,CAAC;gBAED,OAAO,EAAE,IAAI,EAAE,CAAC;YAClB,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACb,MAAM,GAAG,CAAC;YACZ,CAAC;QACH,CAAC;KAAA;IAED,aAAa,CAAC,IAAW;QACvB,MAAM,KAAK,GAAG,sBAAG,CAAC,IAAI,mBAAM,IAAI,GAAI,OAAO,CAAC,CAAC;QAC7C,OAAO,KAAK,CAAC;IACf,CAAC;IAEK,aAAa,CAAC,KAAa;;YAC/B,MAAM,OAAO,GAAG,sBAAG,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YAC3C,OAAO,OAAgB,CAAC;QAC1B,CAAC;KAAA;IAEK,YAAY,CAAC,IAAW,EAAE,IAAY;;YAC1C,OAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC;QAC5B,CAAC;KAAA;CACF;AAED,kBAAe,IAAI,WAAW,EAAE,CAAC","sourcesContent":["import bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\n\nimport AuthRepository from '../repositories/authRepository';\n\nimport { type IUser } from '../interfaces/IAuth';\n\nconst JWT_KEY = 'test_private_key';\n\nclass AuthService {\n  constructor() {}\n  async register(requestBody: any) {\n    try {\n      return await AuthRepository.create(requestBody);\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async login(email: string, password: string) {\n    try {\n      const user = await AuthRepository.findByEmail(email);\n      if (!user) {\n        throw new Error('User not found');\n      }\n\n      const isPasswordValid = await bcrypt.compare(password, user.password);\n      if (!isPasswordValid) {\n        throw new Error('Invalid password');\n      }\n\n      return { user };\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  generateToken(user: IUser) {\n    const token = jwt.sign({ ...user }, JWT_KEY);\n    return token;\n  }\n\n  async validateToken(token: string) {\n    const decoded = jwt.verify(token, JWT_KEY);\n    return decoded as IUser;\n  }\n\n  async validateRole(user: IUser, role: string) {\n    return user.role === role;\n  }\n}\n\nexport default new AuthService();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a54ac523c4099d12cd6c576030349b4e4ab77daa","contentHash":"934875c4cd0f9297aa71d58f2a2cc65bc1529ba91b3d1ba1bb803ee7bfc1af5d"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\repositories\\authRepository.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\repositories\\authRepository.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":20},"end":{"line":15,"column":67}},"16":{"start":{"line":18,"column":8},"end":{"line":18,"column":62}},"17":{"start":{"line":21,"column":8},"end":{"line":30,"column":11}},"18":{"start":{"line":22,"column":12},"end":{"line":29,"column":13}},"19":{"start":{"line":23,"column":29},"end":{"line":23,"column":93}},"20":{"start":{"line":24,"column":16},"end":{"line":24,"column":28}},"21":{"start":{"line":27,"column":16},"end":{"line":27,"column":69}},"22":{"start":{"line":28,"column":16},"end":{"line":28,"column":33}},"23":{"start":{"line":33,"column":8},"end":{"line":35,"column":11}},"24":{"start":{"line":34,"column":12},"end":{"line":34,"column":66}},"25":{"start":{"line":38,"column":0},"end":{"line":38,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":23},"end":{"line":19,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":23},"end":{"line":31,"column":5}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":21,"column":47},"end":{"line":21,"column":48}},"loc":{"start":{"line":21,"column":60},"end":{"line":30,"column":9}},"line":21},"11":{"name":"(anonymous_11)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":19},"end":{"line":36,"column":5}},"line":32},"12":{"name":"(anonymous_12)","decl":{"start":{"line":33,"column":47},"end":{"line":33,"column":48}},"loc":{"start":{"line":33,"column":60},"end":{"line":35,"column":9}},"line":33}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":4,"11":2,"12":1,"13":1,"14":1,"15":1,"16":0,"17":2,"18":2,"19":2,"20":2,"21":0,"22":0,"23":0,"24":0,"25":1},"f":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":0,"6":4,"7":1,"8":0,"9":2,"10":2,"11":0,"12":0},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[2,2],"4":[2,2],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/repositories/authRepository.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/repositories/authRepository.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,oEAAuC;AAEvC,MAAM,cAAc;IAClB,MAAM,CAAC,UAAe;QACpB,OAAO,mBAAI,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IACzC,CAAC;IAEK,WAAW,CAAC,KAAa;;YAC7B,IAAI,CAAC;gBACH,MAAM,IAAI,GAAG,MAAM,mBAAI,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC/D,OAAO,IAAI,CAAC;YACd,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;gBACrD,OAAO,SAAS,CAAC;YACnB,CAAC;QACH,CAAC;KAAA;IAEK,YAAY;;YAChB,OAAO,MAAM,mBAAI,CAAC,KAAK,EAAE,CAAC,UAAU,EAAE,CAAC;QACzC,CAAC;KAAA;CACF;AAED,kBAAe,IAAI,cAAc,EAAE,CAAC","sourcesContent":["import User from '../models/userModel';\n\nclass AuthRepository {\n  create(createArgs: any) {\n    return User.query().insert(createArgs);\n  }\n\n  async findByEmail(email: string): Promise<User | undefined> {\n    try {\n      const user = await User.query().findOne({ email }).select('*');\n      return user;\n    } catch (error) {\n      console.error('Error finding user by email:', error);\n      return undefined;\n    }\n  }\n\n  async getTotalUser() {\n    return await User.query().resultSize();\n  }\n}\n\nexport default new AuthRepository();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"11c89b80333026b2a01fe20ae1a6a5e74e860133","contentHash":"c5e2a459af16ce84d5f93edcb1484db63817413f16a4c759b29becf34cdca1b3"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\models\\userModel.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\models\\userModel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":65}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":25}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":51}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":51}},"10":{"start":{"line":25,"column":8},"end":{"line":25,"column":20}},"11":{"start":{"line":28,"column":8},"end":{"line":39,"column":10}},"12":{"start":{"line":42,"column":0},"end":{"line":42,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":27},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":26},"end":{"line":15,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":20},"end":{"line":19,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":20},"end":{"line":23,"column":5}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":28},"end":{"line":26,"column":5}},"line":24},"6":{"name":"(anonymous_6)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":28},"end":{"line":40,"column":5}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1},"f":{"0":1,"1":4,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/models/userModel.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/models/userModel.ts"],"names":[],"mappings":";;;;;AAAA,yCAAkC;AAClC,kEAA0C;AAE1C,iBAAK,CAAC,IAAI,CAAC,kBAAQ,CAAC,CAAC;AAErB,MAAM,IAAK,SAAQ,iBAAK;IAEtB,MAAM,KAAK,SAAS;QAClB,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,MAAM,KAAK,QAAQ;QACjB,OAAO,SAAS,CAAC,CAAC,kDAAkD;IACtE,CAAC;IAED,aAAa;QACX,mBAAmB;QACnB,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAC7C,CAAC;IAED,aAAa;QACX,mBAAmB;QACnB,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAC7C,CAAC;IAED,MAAM,KAAK,UAAU;QACnB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,KAAK,UAAU;QACnB,OAAO;YACL,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,CAAC;YAClE,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;gBAC5B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE;gBAC5D,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE;gBAC3D,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE;gBACvD,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE;gBAC1D,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE;aACtD;SACF,CAAC;IACJ,CAAC;CACF;AAED,kBAAe,IAAI,CAAC","sourcesContent":["import { Model } from 'objection';\nimport database from '../config/database';\n\nModel.knex(database);\n\nclass User extends Model {\n  password: any;\n  static get tableName(): string {\n    return 'users';\n  }\n\n  static get idColumn(): string {\n    return 'user_id'; // Specify the actual primary key column name here\n  }\n\n  $beforeInsert() {\n    // @ts-expect-error\n    this.created_at = new Date().toISOString();\n  }\n\n  $beforeUpdate() {\n    // @ts-expect-error\n    this.updated_at = new Date().toISOString();\n  }\n\n  static get timestamps() {\n    return true;\n  }\n\n  static get jsonSchema(): object {\n    return {\n      type: 'object',\n      required: ['first_name', 'last_name', 'email', 'password', 'role'],\n      properties: {\n        user_id: { type: 'integer' },\n        first_name: { type: 'string', minLength: 1, maxLength: 255 },\n        last_name: { type: 'string', minLength: 1, maxLength: 255 },\n        email: { type: 'string', minLength: 1, maxLength: 255 },\n        password: { type: 'string', minLength: 1, maxLength: 255 },\n        role: { type: 'string', minLength: 1, maxLength: 10 }\n      }\n    };\n  }\n}\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"22b5628bc0b5d70262e758161674e013bb63b8dc","contentHash":"28fdb8544fef2a48f210cffd1fc42c1ca1e0e5354d03453b1062ce93c9ed8fa4"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\utils\\ResponseBuilder.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\utils\\ResponseBuilder.ts","statementMap":{"0":{"start":{"line":2,"column":13},"end":{"line":12,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":14}},"2":{"start":{"line":4,"column":4},"end":{"line":5,"column":20}},"3":{"start":{"line":4,"column":21},"end":{"line":5,"column":20}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":20}},"5":{"start":{"line":6,"column":4},"end":{"line":10,"column":9}},"6":{"start":{"line":7,"column":8},"end":{"line":10,"column":9}},"7":{"start":{"line":7,"column":21},"end":{"line":7,"column":22}},"8":{"start":{"line":7,"column":28},"end":{"line":7,"column":59}},"9":{"start":{"line":8,"column":12},"end":{"line":9,"column":34}},"10":{"start":{"line":9,"column":16},"end":{"line":9,"column":34}},"11":{"start":{"line":11,"column":4},"end":{"line":11,"column":13}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":62}},"13":{"start":{"line":22,"column":14},"end":{"line":22,"column":16}},"14":{"start":{"line":22,"column":27},"end":{"line":22,"column":47}},"15":{"start":{"line":23,"column":8},"end":{"line":27,"column":11}},"16":{"start":{"line":30,"column":0},"end":{"line":30,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":38},"end":{"line":2,"column":39}},"loc":{"start":{"line":2,"column":54},"end":{"line":12,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":18},"end":{"line":15,"column":21}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":24},"end":{"line":28,"column":5}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":13},"end":{"line":12,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":14},"end":{"line":2,"column":18}},{"start":{"line":2,"column":22},"end":{"line":2,"column":33}},{"start":{"line":2,"column":38},"end":{"line":12,"column":1}}],"line":2},"1":{"loc":{"start":{"line":4,"column":21},"end":{"line":5,"column":20}},"type":"if","locations":[{"start":{"line":4,"column":21},"end":{"line":5,"column":20}},{"start":{"line":4,"column":21},"end":{"line":5,"column":20}}],"line":4},"2":{"loc":{"start":{"line":4,"column":25},"end":{"line":4,"column":87}},"type":"binary-expr","locations":[{"start":{"line":4,"column":25},"end":{"line":4,"column":67}},{"start":{"line":4,"column":71},"end":{"line":4,"column":87}}],"line":4},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":10,"column":9}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":10,"column":9}},{"start":{"line":6,"column":4},"end":{"line":10,"column":9}}],"line":6},"4":{"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":71}},"type":"binary-expr","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":17}},{"start":{"line":6,"column":21},"end":{"line":6,"column":71}}],"line":6},"5":{"loc":{"start":{"line":8,"column":12},"end":{"line":9,"column":34}},"type":"if","locations":[{"start":{"line":8,"column":12},"end":{"line":9,"column":34}},{"start":{"line":8,"column":12},"end":{"line":9,"column":34}}],"line":8},"6":{"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":90}},"type":"binary-expr","locations":[{"start":{"line":8,"column":16},"end":{"line":8,"column":35}},{"start":{"line":8,"column":39},"end":{"line":8,"column":90}}],"line":8},"7":{"loc":{"start":{"line":17,"column":14},"end":{"line":22,"column":9}},"type":"default-arg","locations":[{"start":{"line":17,"column":21},"end":{"line":22,"column":9}}],"line":17}},"s":{"0":1,"1":9,"2":9,"3":37,"4":33,"5":9,"6":9,"7":9,"8":9,"9":0,"10":0,"11":9,"12":1,"13":9,"14":9,"15":9,"16":1},"f":{"0":9,"1":0,"2":9},"b":{"0":[1,1,1],"1":[33,4],"2":[37,37],"3":[9,0],"4":[9,9],"5":[0,0],"6":[0,0],"7":[5]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/utils/ResponseBuilder.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/utils/ResponseBuilder.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAEA,MAAM,eAAe;IACnB,gBAAe,CAAC;IAChB,MAAM,CAAC,QAAQ,CAAU,EAmBxB;YAnBwB,EACvB,IAAI,GAAG;YACL,IAAI,EAAE,CAAC;YACP,IAAI,EAAE,EAAE;YACR,SAAS,EAAE,CAAC;YACZ,UAAU,EAAE,CAAC;SACd,OAaF,EAZI,MAAM,cAPc,QAQxB,CADU;QAaT,OAAO,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;YACzC,OAAO,EAAE,MAAM,CAAC,OAAO;YACvB,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,IAAI;SACL,CAAC,CAAC;IACL,CAAC;CACF;AAED,kBAAe,eAAe,CAAC","sourcesContent":["import { type Response } from 'express';\n\nclass ResponseBuilder {\n  constructor() {}\n  static response<T = any>({\n    meta = {\n      page: 1,\n      size: 10,\n      totalData: 0,\n      totalPages: 0\n    },\n    ...params\n  }: {\n    res: Response;\n    code: number;\n    data: T;\n    message?: string;\n    meta?: {\n      page: number;\n      size: number;\n      totalPages?: number;\n      totalData: number;\n    };\n  }) {\n    return params.res.status(params.code).json({\n      message: params.message,\n      data: params.data,\n      meta\n    });\n  }\n}\n\nexport default ResponseBuilder;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"33f8689d70daac04c15cc9c54fb759ef3fd5c276","contentHash":"f1a9ae1232ff90634d11b114d4368c6967456068303878e3fc71d5cf15d12e18"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\config\\media.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\config\\media.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":42}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":92}},"6":{"start":{"line":11,"column":8},"end":{"line":15,"column":11}},"7":{"start":{"line":16,"column":8},"end":{"line":16,"column":40}},"8":{"start":{"line":19,"column":8},"end":{"line":19,"column":28}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":29}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":17,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":17},"end":{"line":20,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":18},"end":{"line":23,"column":5}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":1},"f":{"0":1,"1":1,"2":2,"3":2},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/config/media.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/config/media.ts"],"names":[],"mappings":";;;;;AAAA,2CAA8C;AAC9C,oDAA4B;AAE5B,MAAM,KAAK;IAIT;QACE,IAAI,CAAC,OAAO,GAAG,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,gBAAM,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;QAC3D,eAAU,CAAC,MAAM,CAAC;YAChB,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,qBAAqB;YAC7C,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,kBAAkB;YACvC,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,qBAAqB;SAC9C,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,eAAU,CAAC;IAC7B,CAAC;IAED,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;CACF;AAED,kBAAe,IAAI,KAAK,EAAE,CAAC","sourcesContent":["import { v2 as cloudinary } from 'cloudinary';\nimport multer from 'multer';\n\nclass Media {\n  private readonly _upload;\n  private readonly _storage;\n\n  constructor() {\n    this._upload = multer({ storage: multer.memoryStorage() });\n    cloudinary.config({\n      cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n      api_key: process.env.CLOUDINARY_API_KEY,\n      api_secret: process.env.CLOUDINARY_API_SECRET\n    });\n\n    this._storage = cloudinary;\n  }\n\n  get upload() {\n    return this._upload;\n  }\n\n  get storage() {\n    return this._storage;\n  }\n}\n\nexport default new Media();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8a2234c646bc6e03d7b1f42bf726fde285a11521","contentHash":"b8a4411649aaf3781ff06b6e2ca4ca179291ac4339392689c1846ab08dd07891"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\middlewares\\auth.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\middlewares\\auth.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":22},"end":{"line":15,"column":73}},"16":{"start":{"line":20,"column":8},"end":{"line":37,"column":11}},"17":{"start":{"line":21,"column":28},"end":{"line":21,"column":39}},"18":{"start":{"line":22,"column":12},"end":{"line":26,"column":13}},"19":{"start":{"line":23,"column":16},"end":{"line":25,"column":19}},"20":{"start":{"line":27,"column":32},"end":{"line":27,"column":74}},"21":{"start":{"line":28,"column":26},"end":{"line":28,"column":94}},"22":{"start":{"line":29,"column":29},"end":{"line":29,"column":77}},"23":{"start":{"line":30,"column":33},"end":{"line":30,"column":97}},"24":{"start":{"line":31,"column":12},"end":{"line":35,"column":13}},"25":{"start":{"line":32,"column":16},"end":{"line":34,"column":19}},"26":{"start":{"line":36,"column":12},"end":{"line":36,"column":19}},"27":{"start":{"line":41,"column":8},"end":{"line":58,"column":11}},"28":{"start":{"line":42,"column":28},"end":{"line":42,"column":39}},"29":{"start":{"line":43,"column":12},"end":{"line":47,"column":13}},"30":{"start":{"line":44,"column":16},"end":{"line":46,"column":19}},"31":{"start":{"line":48,"column":32},"end":{"line":48,"column":74}},"32":{"start":{"line":49,"column":26},"end":{"line":49,"column":94}},"33":{"start":{"line":50,"column":29},"end":{"line":50,"column":77}},"34":{"start":{"line":51,"column":28},"end":{"line":51,"column":87}},"35":{"start":{"line":52,"column":12},"end":{"line":56,"column":13}},"36":{"start":{"line":53,"column":16},"end":{"line":55,"column":19}},"37":{"start":{"line":57,"column":12},"end":{"line":57,"column":19}},"38":{"start":{"line":61,"column":0},"end":{"line":61,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":18},"end":{"line":17,"column":21}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":40},"end":{"line":38,"column":5}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":47},"end":{"line":20,"column":48}},"loc":{"start":{"line":20,"column":60},"end":{"line":37,"column":9}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":35},"end":{"line":59,"column":5}},"line":39},"12":{"name":"(anonymous_12)","decl":{"start":{"line":41,"column":47},"end":{"line":41,"column":48}},"loc":{"start":{"line":41,"column":60},"end":{"line":58,"column":9}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":12},"end":{"line":26,"column":13}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":26,"column":13}},{"start":{"line":22,"column":12},"end":{"line":26,"column":13}}],"line":22},"9":{"loc":{"start":{"line":28,"column":26},"end":{"line":28,"column":94}},"type":"cond-expr","locations":[{"start":{"line":28,"column":76},"end":{"line":28,"column":82}},{"start":{"line":28,"column":85},"end":{"line":28,"column":94}}],"line":28},"10":{"loc":{"start":{"line":28,"column":26},"end":{"line":28,"column":73}},"type":"binary-expr","locations":[{"start":{"line":28,"column":26},"end":{"line":28,"column":56}},{"start":{"line":28,"column":60},"end":{"line":28,"column":73}}],"line":28},"11":{"loc":{"start":{"line":31,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":35,"column":13}},{"start":{"line":31,"column":12},"end":{"line":35,"column":13}}],"line":31},"12":{"loc":{"start":{"line":43,"column":12},"end":{"line":47,"column":13}},"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":47,"column":13}},{"start":{"line":43,"column":12},"end":{"line":47,"column":13}}],"line":43},"13":{"loc":{"start":{"line":49,"column":26},"end":{"line":49,"column":94}},"type":"cond-expr","locations":[{"start":{"line":49,"column":76},"end":{"line":49,"column":82}},{"start":{"line":49,"column":85},"end":{"line":49,"column":94}}],"line":49},"14":{"loc":{"start":{"line":49,"column":26},"end":{"line":49,"column":73}},"type":"binary-expr","locations":[{"start":{"line":49,"column":26},"end":{"line":49,"column":56}},{"start":{"line":49,"column":60},"end":{"line":49,"column":73}}],"line":49},"15":{"loc":{"start":{"line":52,"column":12},"end":{"line":56,"column":13}},"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":56,"column":13}},{"start":{"line":52,"column":12},"end":{"line":56,"column":13}}],"line":52}},"s":{"0":1,"1":2,"2":0,"3":1,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":3,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":1,"30":0,"31":1,"32":1,"33":1,"34":1,"35":1,"36":0,"37":1,"38":1},"f":{"0":1,"1":2,"2":0,"3":1,"4":2,"5":0,"6":3,"7":1,"8":1,"9":0,"10":0,"11":1,"12":1},"b":{"0":[1,1,1],"1":[2,0],"2":[1,1],"3":[1,2],"4":[1,1],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,1],"13":[0,1],"14":[1,1],"15":[0,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/middlewares/auth.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/middlewares/auth.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAGA,0EAAkD;AAMlD,MAAM,cAAc;IAClB,gBAAe,CAAC;IAEV,mBAAmB,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;;;YACvE,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;YAE5B,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;gBAC3B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,IAAI,EAAE,gBAAgB;iBACvB,CAAC,CAAC;YACL,CAAC;YAED,MAAM,WAAW,GAAG,GAAG,OAAO,CAAC,aAAa,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAC/D,MAAM,KAAK,GAAG,MAAA,WAAW,CAAC,CAAC,CAAC,0CAAE,IAAI,EAAE,CAAC;YACrC,MAAM,QAAQ,GAAG,MAAM,qBAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACxD,MAAM,YAAY,GAAG,MAAM,qBAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;YAE5E,IAAI,CAAC,YAAY,EAAE,CAAC;gBAClB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,IAAI,EAAE,gBAAgB;iBACvB,CAAC,CAAC;YACL,CAAC;YAED,IAAI,EAAE,CAAC;;KACR;IAEK,cAAc,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;;;YAClE,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;YAE5B,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;gBAC3B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,IAAI,EAAE,gBAAgB;iBACvB,CAAC,CAAC;YACL,CAAC;YAED,MAAM,WAAW,GAAG,GAAG,OAAO,CAAC,aAAa,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAC/D,MAAM,KAAK,GAAG,MAAA,WAAW,CAAC,CAAC,CAAC,0CAAE,IAAI,EAAE,CAAC;YACrC,MAAM,QAAQ,GAAG,MAAM,qBAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACxD,MAAM,OAAO,GAAG,MAAM,qBAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAElE,IAAI,CAAC,OAAO,EAAE,CAAC;gBACb,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC1B,IAAI,EAAE,gBAAgB;iBACvB,CAAC,CAAC;YACL,CAAC;YAED,IAAI,EAAE,CAAC;;KACR;CACF;AAED,kBAAe,IAAI,cAAc,EAAE,CAAC","sourcesContent":["import { type Request, type Response, type NextFunction } from 'express';\nimport { type IUser } from '../interfaces/IAuth';\n\nimport AuthService from '../services/authService';\n\nexport interface IRequestWithAuth extends Request {\n  user?: IUser;\n}\n\nclass AuthMiddleware {\n  constructor() {}\n\n  async authorizeSuperAdmin(req: Request, res: Response, next: NextFunction) {\n    const headers = req.headers;\n\n    if (!headers.authorization) {\n      return res.status(403).json({\n        data: 'not authorized'\n      });\n    }\n\n    const bearerToken = `${headers.authorization}`.split('Bearer');\n    const token = bearerToken[1]?.trim();\n    const userData = await AuthService.validateToken(token);\n    const isSuperAdmin = await AuthService.validateRole(userData, 'superadmin');\n\n    if (!isSuperAdmin) {\n      return res.status(403).json({\n        data: 'not authorized'\n      });\n    }\n\n    next();\n  }\n\n  async authorizeAdmin(req: Request, res: Response, next: NextFunction) {\n    const headers = req.headers;\n\n    if (!headers.authorization) {\n      return res.status(403).json({\n        data: 'not authorized'\n      });\n    }\n\n    const bearerToken = `${headers.authorization}`.split('Bearer');\n    const token = bearerToken[1]?.trim();\n    const userData = await AuthService.validateToken(token);\n    const isAdmin = await AuthService.validateRole(userData, 'admin');\n\n    if (!isAdmin) {\n      return res.status(403).json({\n        data: 'not authorized'\n      });\n    }\n\n    next();\n  }\n}\n\nexport default new AuthMiddleware();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cb35310dcde3d95cd360103c46039854eed7aa5c","contentHash":"04bfd724107480b2447850d202ab87aec6d5be9b8bb7aa0e23fc812746d78ae8"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\routes\\api\\authApi.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\routes\\api\\authApi.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":90}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":65}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":46}},"7":{"start":{"line":39,"column":8},"end":{"line":39,"column":67}},"8":{"start":{"line":40,"column":8},"end":{"line":40,"column":107}},"9":{"start":{"line":66,"column":8},"end":{"line":66,"column":73}},"10":{"start":{"line":92,"column":8},"end":{"line":92,"column":120}},"11":{"start":{"line":93,"column":8},"end":{"line":93,"column":27}},"12":{"start":{"line":96,"column":0},"end":{"line":96,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":13},"end":{"line":94,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":2,"1":1,"2":1},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/routes/api/authApi.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/routes/api/authApi.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AAEjC,2FAAmE;AACnE,kEAAoD;AAEpD,MAAM,OAAO;IAGX;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;IACzB,CAAC;IAED,MAAM;QACJ;;;;;;;;;;;;;;;;;;;;;;;;WAwBG;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,wBAAc,CAAC,KAAK,CAAC,CAAC;QAEjD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,cAAc,EAAE,wBAAc,CAAC,WAAW,CAAC,CAAC;QAEzF;;;;;;;;;;;;;;;;;;;;;;;;WAwBG;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,wBAAc,CAAC,QAAQ,CAAC,CAAC;QAEvD;;;;;;;;;;;;;;;;;;;;;;;;WAwBG;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,iBAAiB,EACjB,cAAc,CAAC,mBAAmB,EAClC,wBAAc,CAAC,aAAa,CAC7B,CAAC;QAEF,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;CACF;AAED,kBAAe,IAAI,OAAO,EAAE,CAAC","sourcesContent":["import { Router } from 'express';\n\nimport AuthController from '../../controllers/Auth/authController';\nimport AuthMiddleware from '../../middlewares/auth';\n\nclass AuthApi {\n  private readonly router: Router;\n\n  constructor() {\n    this.router = Router();\n  }\n\n  routes() {\n    /**\n     * @openapi\n     * '/api/user/login':\n     *  post:\n     *     tags:\n     *     - Auth - User Login\n     *     summary: User Login Authenticaton\n     *     requestBody:\n     *      required: true\n     *      content:\n     *        application/json:\n     *           schema:\n     *              $ref: '#/components/schemas/LoginUserInput'\n     *     responses:\n     *      200:\n     *        description: Success\n     *        content:\n     *          application/json:\n     *            schema:\n     *              $ref: '#/components/schemas/LoginUserResponse'\n     *      409:\n     *        description: Conflict\n     *      400:\n     *        description: Bad request\n     */\n    this.router.post('/login', AuthController.login);\n\n    this.router.get('/user-data', AuthMiddleware.authorizeAdmin, AuthController.getUserData);\n\n    /**\n     * @openapi\n     * '/api/user/register':\n     *  post:\n     *     tags:\n     *     - Auth - User Registration\n     *     summary: Register a user\n     *     requestBody:\n     *      required: true\n     *      content:\n     *        application/json:\n     *           schema:\n     *              $ref: '#/components/schemas/CreateUserInput'\n     *     responses:\n     *      200:\n     *        description: Success\n     *        content:\n     *          application/json:\n     *            schema:\n     *              $ref: '#/components/schemas/CreateUserResponse'\n     *      409:\n     *        description: Conflict\n     *      400:\n     *        description: Bad request\n     */\n    this.router.post('/register', AuthController.register);\n\n    /**\n     * @openapi\n     * '/api/user/register-admin':\n     *  post:\n     *     tags:\n     *     - Auth - Admin User Registration\n     *     summary: Register a user admin, Only Accessible by superadmin\n     *     requestBody:\n     *      required: true\n     *      content:\n     *        application/json:\n     *           schema:\n     *              $ref: '#/components/schemas/CreateUserInput'\n     *     responses:\n     *      200:\n     *        description: Success\n     *        content:\n     *          application/json:\n     *            schema:\n     *              $ref: '#/components/schemas/CreateUserResponse'\n     *      409:\n     *        description: Conflict\n     *      400:\n     *        description: Bad request\n     */\n    this.router.post(\n      '/register-admin',\n      AuthMiddleware.authorizeSuperAdmin,\n      AuthController.registerAdmin\n    );\n\n    return this.router;\n  }\n}\n\nexport default new AuthApi();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2b43869ea8bde5068039f36d84e830e93817b2b6","contentHash":"476651194354c6c8f14a59add8d502a7d4813a532143a1bbd8b8d2f3d8676ad3"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\controllers\\Auth\\authController.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\controllers\\Auth\\authController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":13},"end":{"line":21,"column":1}},"13":{"start":{"line":12,"column":12},"end":{"line":12,"column":14}},"14":{"start":{"line":13,"column":4},"end":{"line":14,"column":20}},"15":{"start":{"line":13,"column":21},"end":{"line":14,"column":20}},"16":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"17":{"start":{"line":15,"column":4},"end":{"line":19,"column":9}},"18":{"start":{"line":16,"column":8},"end":{"line":19,"column":9}},"19":{"start":{"line":16,"column":21},"end":{"line":16,"column":22}},"20":{"start":{"line":16,"column":28},"end":{"line":16,"column":59}},"21":{"start":{"line":17,"column":12},"end":{"line":18,"column":34}},"22":{"start":{"line":18,"column":16},"end":{"line":18,"column":34}},"23":{"start":{"line":20,"column":4},"end":{"line":20,"column":13}},"24":{"start":{"line":22,"column":22},"end":{"line":24,"column":1}},"25":{"start":{"line":23,"column":4},"end":{"line":23,"column":62}},"26":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"27":{"start":{"line":26,"column":17},"end":{"line":26,"column":51}},"28":{"start":{"line":27,"column":22},"end":{"line":27,"column":76}},"29":{"start":{"line":29,"column":4},"end":{"line":36,"column":6}},"30":{"start":{"line":40,"column":8},"end":{"line":40,"column":43}},"31":{"start":{"line":41,"column":8},"end":{"line":41,"column":49}},"32":{"start":{"line":44,"column":8},"end":{"line":66,"column":11}},"33":{"start":{"line":45,"column":12},"end":{"line":65,"column":13}},"34":{"start":{"line":46,"column":28},"end":{"line":46,"column":30}},"35":{"start":{"line":47,"column":44},"end":{"line":47,"column":52}},"36":{"start":{"line":48,"column":29},"end":{"line":48,"column":79}},"37":{"start":{"line":49,"column":35},"end":{"line":49,"column":61}},"38":{"start":{"line":50,"column":16},"end":{"line":52,"column":17}},"39":{"start":{"line":51,"column":20},"end":{"line":51,"column":76}},"40":{"start":{"line":53,"column":16},"end":{"line":57,"column":19}},"41":{"start":{"line":60,"column":16},"end":{"line":60,"column":35}},"42":{"start":{"line":61,"column":16},"end":{"line":64,"column":19}},"43":{"start":{"line":70,"column":8},"end":{"line":94,"column":11}},"44":{"start":{"line":71,"column":12},"end":{"line":93,"column":13}},"45":{"start":{"line":72,"column":32},"end":{"line":72,"column":43}},"46":{"start":{"line":73,"column":16},"end":{"line":77,"column":17}},"47":{"start":{"line":74,"column":20},"end":{"line":76,"column":23}},"48":{"start":{"line":78,"column":36},"end":{"line":78,"column":78}},"49":{"start":{"line":79,"column":30},"end":{"line":79,"column":98}},"50":{"start":{"line":80,"column":36},"end":{"line":80,"column":84}},"51":{"start":{"line":81,"column":37},"end":{"line":81,"column":48}},"52":{"start":{"line":81,"column":72},"end":{"line":81,"column":105}},"53":{"start":{"line":82,"column":16},"end":{"line":85,"column":19}},"54":{"start":{"line":88,"column":16},"end":{"line":88,"column":35}},"55":{"start":{"line":89,"column":16},"end":{"line":92,"column":19}},"56":{"start":{"line":97,"column":8},"end":{"line":123,"column":11}},"57":{"start":{"line":98,"column":12},"end":{"line":122,"column":13}},"58":{"start":{"line":99,"column":73},"end":{"line":99,"column":81}},"59":{"start":{"line":100,"column":42},"end":{"line":100,"column":83}},"60":{"start":{"line":101,"column":33},"end":{"line":107,"column":17}},"61":{"start":{"line":108,"column":36},"end":{"line":108,"column":82}},"62":{"start":{"line":109,"column":16},"end":{"line":113,"column":19}},"63":{"start":{"line":116,"column":16},"end":{"line":116,"column":35}},"64":{"start":{"line":117,"column":16},"end":{"line":121,"column":19}},"65":{"start":{"line":126,"column":8},"end":{"line":152,"column":11}},"66":{"start":{"line":127,"column":12},"end":{"line":151,"column":13}},"67":{"start":{"line":128,"column":67},"end":{"line":128,"column":75}},"68":{"start":{"line":129,"column":42},"end":{"line":129,"column":83}},"69":{"start":{"line":130,"column":33},"end":{"line":136,"column":17}},"70":{"start":{"line":137,"column":36},"end":{"line":137,"column":82}},"71":{"start":{"line":138,"column":16},"end":{"line":142,"column":19}},"72":{"start":{"line":145,"column":16},"end":{"line":145,"column":35}},"73":{"start":{"line":146,"column":16},"end":{"line":150,"column":19}},"74":{"start":{"line":155,"column":0},"end":{"line":155,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":38},"end":{"line":11,"column":39}},"loc":{"start":{"line":11,"column":54},"end":{"line":21,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":22,"column":56},"end":{"line":22,"column":57}},"loc":{"start":{"line":22,"column":71},"end":{"line":24,"column":1}},"line":22},"9":{"name":"mapUserToIUsers","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":24}},"loc":{"start":{"line":28,"column":31},"end":{"line":37,"column":1}},"line":28},"10":{"name":"(anonymous_10)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":18},"end":{"line":42,"column":5}},"line":39},"11":{"name":"(anonymous_11)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":20},"end":{"line":67,"column":5}},"line":43},"12":{"name":"(anonymous_12)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":66,"column":9}},"line":44},"13":{"name":"(anonymous_13)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":26},"end":{"line":95,"column":5}},"line":68},"14":{"name":"(anonymous_14)","decl":{"start":{"line":70,"column":47},"end":{"line":70,"column":48}},"loc":{"start":{"line":70,"column":60},"end":{"line":94,"column":9}},"line":70},"15":{"name":"(anonymous_15)","decl":{"start":{"line":96,"column":4},"end":{"line":96,"column":5}},"loc":{"start":{"line":96,"column":23},"end":{"line":124,"column":5}},"line":96},"16":{"name":"(anonymous_16)","decl":{"start":{"line":97,"column":47},"end":{"line":97,"column":48}},"loc":{"start":{"line":97,"column":60},"end":{"line":123,"column":9}},"line":97},"17":{"name":"(anonymous_17)","decl":{"start":{"line":125,"column":4},"end":{"line":125,"column":5}},"loc":{"start":{"line":125,"column":28},"end":{"line":153,"column":5}},"line":125},"18":{"name":"(anonymous_18)","decl":{"start":{"line":126,"column":47},"end":{"line":126,"column":48}},"loc":{"start":{"line":126,"column":60},"end":{"line":152,"column":9}},"line":126}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":13},"end":{"line":21,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":14},"end":{"line":11,"column":18}},{"start":{"line":11,"column":22},"end":{"line":11,"column":33}},{"start":{"line":11,"column":38},"end":{"line":21,"column":1}}],"line":11},"6":{"loc":{"start":{"line":13,"column":21},"end":{"line":14,"column":20}},"type":"if","locations":[{"start":{"line":13,"column":21},"end":{"line":14,"column":20}},{"start":{"line":13,"column":21},"end":{"line":14,"column":20}}],"line":13},"7":{"loc":{"start":{"line":13,"column":25},"end":{"line":13,"column":87}},"type":"binary-expr","locations":[{"start":{"line":13,"column":25},"end":{"line":13,"column":67}},{"start":{"line":13,"column":71},"end":{"line":13,"column":87}}],"line":13},"8":{"loc":{"start":{"line":15,"column":4},"end":{"line":19,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":19,"column":9}},{"start":{"line":15,"column":4},"end":{"line":19,"column":9}}],"line":15},"9":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":71}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":17}},{"start":{"line":15,"column":21},"end":{"line":15,"column":71}}],"line":15},"10":{"loc":{"start":{"line":17,"column":12},"end":{"line":18,"column":34}},"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":18,"column":34}},{"start":{"line":17,"column":12},"end":{"line":18,"column":34}}],"line":17},"11":{"loc":{"start":{"line":17,"column":16},"end":{"line":17,"column":90}},"type":"binary-expr","locations":[{"start":{"line":17,"column":16},"end":{"line":17,"column":35}},{"start":{"line":17,"column":39},"end":{"line":17,"column":90}}],"line":17},"12":{"loc":{"start":{"line":22,"column":22},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":22,"column":23},"end":{"line":22,"column":27}},{"start":{"line":22,"column":31},"end":{"line":22,"column":51}},{"start":{"line":22,"column":56},"end":{"line":24,"column":1}}],"line":22},"13":{"loc":{"start":{"line":23,"column":11},"end":{"line":23,"column":61}},"type":"cond-expr","locations":[{"start":{"line":23,"column":37},"end":{"line":23,"column":40}},{"start":{"line":23,"column":43},"end":{"line":23,"column":61}}],"line":23},"14":{"loc":{"start":{"line":23,"column":12},"end":{"line":23,"column":33}},"type":"binary-expr","locations":[{"start":{"line":23,"column":12},"end":{"line":23,"column":15}},{"start":{"line":23,"column":19},"end":{"line":23,"column":33}}],"line":23},"15":{"loc":{"start":{"line":50,"column":16},"end":{"line":52,"column":17}},"type":"if","locations":[{"start":{"line":50,"column":16},"end":{"line":52,"column":17}},{"start":{"line":50,"column":16},"end":{"line":52,"column":17}}],"line":50},"16":{"loc":{"start":{"line":73,"column":16},"end":{"line":77,"column":17}},"type":"if","locations":[{"start":{"line":73,"column":16},"end":{"line":77,"column":17}},{"start":{"line":73,"column":16},"end":{"line":77,"column":17}}],"line":73},"17":{"loc":{"start":{"line":79,"column":30},"end":{"line":79,"column":98}},"type":"cond-expr","locations":[{"start":{"line":79,"column":80},"end":{"line":79,"column":86}},{"start":{"line":79,"column":89},"end":{"line":79,"column":98}}],"line":79},"18":{"loc":{"start":{"line":79,"column":30},"end":{"line":79,"column":77}},"type":"binary-expr","locations":[{"start":{"line":79,"column":30},"end":{"line":79,"column":60}},{"start":{"line":79,"column":64},"end":{"line":79,"column":77}}],"line":79}},"s":{"0":1,"1":4,"2":0,"3":3,"4":4,"5":4,"6":0,"7":0,"8":0,"9":0,"10":7,"11":3,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":2,"26":1,"27":1,"28":1,"29":2,"30":1,"31":1,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1},"f":{"0":3,"1":4,"2":0,"3":3,"4":4,"5":0,"6":7,"7":0,"8":2,"9":2,"10":1,"11":2,"12":2,"13":0,"14":0,"15":1,"16":1,"17":0,"18":0},"b":{"0":[1,1,1],"1":[4,0],"2":[3,3],"3":[3,4],"4":[3,3],"5":[1,1,1],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[1,1,1],"13":[1,1],"14":[2,2],"15":[2,0],"16":[0,0],"17":[0,0],"18":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/controllers/Auth/authController.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/controllers/Auth/authController.ts"],"names":[],"mappings":"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","sourcesContent":["import { type Request, type Response } from 'express';\nimport bcrypt from 'bcrypt';\nimport AuthService from '../../services/authService';\nimport { type IAuthController, type IUser } from '../../interfaces/IAuth';\nimport { type IRequestWithAuth } from '../../middlewares/auth';\n\nfunction mapUserToIUsers(user: any): IUser {\n  return {\n    user_id: user.user_id,\n    first_name: user.first_name,\n    last_name: user.last_name,\n    email: user.email,\n    password: user.password,\n    role: user.role\n  };\n}\n\nclass AuthController implements IAuthController {\n  constructor() {\n    this.login = this.login.bind(this);\n    this.register = this.register.bind(this);\n  }\n\n  async login(req: Request, res: Response) {\n    try {\n      let token = '';\n      const { email, password } = req.body;\n      const user = await AuthService.login(email, password);\n      const mappedUser: IUser = mapUserToIUsers(user.user);\n\n      if (user) {\n        token = AuthService.generateToken(mappedUser);\n      }\n\n      res.status(200).json({\n        success: true,\n        message: 'User logged in successfully',\n        token\n      });\n    } catch (error: any) {\n      console.log(error);\n      res.status(401).json({\n        success: false,\n        message: 'Incorrect email or password'\n      });\n    }\n  }\n\n  async getUserData(req: IRequestWithAuth, res: Response) {\n    try {\n      const headers = req.headers;\n\n      if (!headers.authorization) {\n        return res.status(403).json({\n          data: 'not authorized'\n        });\n      }\n\n      const bearerToken = `${headers.authorization}`.split('Bearer');\n      const token = bearerToken[1]?.trim();\n\n      const userDetails = await AuthService.validateToken(token);\n      const { password, ...userWithoutPassword } = userDetails;\n\n      res.status(200).json({\n        success: true,\n        user: userWithoutPassword\n      });\n    } catch (error: any) {\n      console.log(error);\n      res.status(401).json({\n        success: false,\n        message: 'Incorrect email or password'\n      });\n    }\n  }\n\n  async register(req: Request, res: Response) {\n    try {\n      const { first_name, last_name, email, password, role } = req.body;\n      const encryptedPassword = await bcrypt.hash(password, 10);\n\n      const userData = {\n        first_name,\n        last_name,\n        email: email.toLowerCase(),\n        password: encryptedPassword,\n        role\n      };\n\n      const createdUser = await AuthService.register(userData);\n\n      res.status(200).json({\n        success: true,\n        message: 'User registered successfully',\n        user: createdUser\n      });\n    } catch (error: any) {\n      console.log(error);\n      res.status(400).json({\n        success: false,\n        message: 'User registration failed',\n        error: error.message\n      });\n    }\n  }\n\n  async registerAdmin(req: Request, res: Response) {\n    try {\n      const { first_name, last_name, email, password } = req.body;\n      const encryptedPassword = await bcrypt.hash(password, 10);\n\n      const userData = {\n        first_name,\n        last_name,\n        email: email.toLowerCase(),\n        password: encryptedPassword,\n        role: 'admin'\n      };\n\n      const createdUser = await AuthService.register(userData);\n\n      res.status(200).json({\n        success: true,\n        message: 'Admin User registered successfully',\n        user: createdUser\n      });\n    } catch (error: any) {\n      console.log(error);\n      res.status(400).json({\n        success: false,\n        message: 'Admin User registration failed',\n        error: error.message\n      });\n    }\n  }\n}\n\nexport default new AuthController();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"de00f855d0f21d325b4fd80014c0cdd821cfe962","contentHash":"fce3f098f803eba52d91ac18c894f1204deb8471a9b046fa6e51c31dd98bed41"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\utils\\swagger.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\utils\\swagger.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":24},"end":{"line":6,"column":65}},"4":{"start":{"line":7,"column":29},"end":{"line":7,"column":75}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":52}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":53}},"7":{"start":{"line":10,"column":16},"end":{"line":33,"column":1}},"8":{"start":{"line":34,"column":20},"end":{"line":34,"column":57}},"9":{"start":{"line":37,"column":4},"end":{"line":37,"column":106}},"10":{"start":{"line":39,"column":4},"end":{"line":42,"column":7}},"11":{"start":{"line":40,"column":8},"end":{"line":40,"column":58}},"12":{"start":{"line":41,"column":8},"end":{"line":41,"column":30}},"13":{"start":{"line":43,"column":4},"end":{"line":43,"column":77}},"14":{"start":{"line":45,"column":0},"end":{"line":45,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"swaggerDocs","decl":{"start":{"line":35,"column":9},"end":{"line":35,"column":20}},"loc":{"start":{"line":35,"column":32},"end":{"line":44,"column":1}},"line":35},"2":{"name":"(anonymous_2)","decl":{"start":{"line":39,"column":26},"end":{"line":39,"column":27}},"loc":{"start":{"line":39,"column":40},"end":{"line":42,"column":5}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":1,"14":1},"f":{"0":3,"1":1,"2":0},"b":{"0":[1,1,1],"1":[1,2],"2":[3,3]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/utils/swagger.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/utils/swagger.ts"],"names":[],"mappings":";;;;;AACA,kEAAyC;AACzC,4EAA2C;AAC3C,qDAA6C;AAC7C,sDAA2B;AAE3B,MAAM,OAAO,GAAyB;IACpC,UAAU,EAAE;QACV,OAAO,EAAE,OAAO;QAChB,IAAI,EAAE;YACJ,KAAK,EAAE,eAAe;YACtB,OAAO,EAAP,sBAAO;SACR;QACD,UAAU,EAAE;YACV,eAAe,EAAE;gBACf,UAAU,EAAE;oBACV,IAAI,EAAE,MAAM;oBACZ,MAAM,EAAE,QAAQ;oBAChB,YAAY,EAAE,KAAK;iBACpB;aACF;SACF;QACD,QAAQ,EAAE;YACR;gBACE,UAAU,EAAE,EAAE;aACf;SACF;KACF;IACD,IAAI,EAAE,CAAC,uBAAuB,EAAE,mBAAmB,CAAC;CACrD,CAAC;AAEF,MAAM,WAAW,GAAG,IAAA,uBAAY,EAAC,OAAO,CAAC,CAAC;AAE1C,SAAS,WAAW,CAAC,GAAY,EAAE,IAAY;IAC7C,eAAe;IACf,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,4BAAS,CAAC,KAAK,EAAE,4BAAS,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;IAEhE,sBAAsB;IACtB,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE;QACpD,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QAClD,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC;IAEH,gBAAG,CAAC,IAAI,CAAC,sCAAsC,IAAI,OAAO,CAAC,CAAC;AAC9D,CAAC;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import { type Express, type Request, type Response } from 'express';\nimport swaggerJsdoc from 'swagger-jsdoc';\nimport swaggerUi from 'swagger-ui-express';\nimport { version } from '../../package.json';\nimport log from './logger';\n\nconst options: swaggerJsdoc.Options = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'REST API Docs',\n      version\n    },\n    components: {\n      securitySchemes: {\n        bearerAuth: {\n          type: 'http',\n          scheme: 'bearer',\n          bearerFormat: 'JWT'\n        }\n      }\n    },\n    security: [\n      {\n        bearerAuth: []\n      }\n    ]\n  },\n  apis: ['./app/routes/api/*.ts', './app/schema/*.ts']\n};\n\nconst swaggerSpec = swaggerJsdoc(options);\n\nfunction swaggerDocs(app: Express, port: number) {\n  // Swagger page\n  app.use('/docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec));\n\n  // Docs in JSON format\n  app.get('/docs.json', (req: Request, res: Response) => {\n    res.setHeader('Content-Type', 'application/json');\n    res.send(swaggerSpec);\n  });\n\n  log.info(`Docs available at http://localhost:${port}/docs`);\n}\n\nexport default swaggerDocs;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"365de2bde579dcd694572a009c57a00ff5361d56","contentHash":"f2fdd0311d0a5717439fad299d30cf36b66fb89fe91bd99eca5a93d09bfa64bd"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\utils\\logger.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\utils\\logger.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":47}},"4":{"start":{"line":7,"column":16},"end":{"line":7,"column":49}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":15},"end":{"line":15,"column":2}},"7":{"start":{"line":14,"column":21},"end":{"line":14,"column":67}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":15},"end":{"line":14,"column":16}},"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":67}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1},"f":{"0":3,"1":2},"b":{"0":[1,1,1],"1":[0,3],"2":[3,3]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/utils/logger.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/utils/logger.ts"],"names":[],"mappings":";;;;;AAAA,gDAAwB;AACxB,kDAA0B;AAC1B,8DAAqC;AAErC,MAAM,MAAM,GAAG,IAAA,cAAI,EAAC;IAClB,UAAU,EAAE,qBAAU;IACtB,IAAI,EAAE;QACJ,GAAG,EAAE,KAAK;KACX;IACD,SAAS,EAAE,GAAG,EAAE,CAAC,YAAY,IAAA,eAAK,GAAE,CAAC,MAAM,EAAE,GAAG;CACjD,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import pino from 'pino';\nimport dayjs from 'dayjs';\nimport pinoPretty from 'pino-pretty';\n\nconst logger = pino({\n  prettifier: pinoPretty,\n  base: {\n    pid: false\n  },\n  timestamp: () => `,\"time\":\"${dayjs().format()}\"`\n});\n\nexport default logger;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"32c3c195cdab0c75f8e6b0921169815ff7612a36","contentHash":"21ea26a2f4dac6565895af0cf898d8c8a14d460ce619014b6d1e3fe0d570aa50"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\data\\testData.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\data\\testData.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":179}},"2":{"start":{"line":4,"column":0},"end":{"line":13,"column":2}},"3":{"start":{"line":14,"column":0},"end":{"line":22,"column":2}},"4":{"start":{"line":23,"column":0},"end":{"line":123,"column":2}},"5":{"start":{"line":124,"column":0},"end":{"line":156,"column":2}},"6":{"start":{"line":157,"column":0},"end":{"line":187,"column":2}},"7":{"start":{"line":188,"column":0},"end":{"line":218,"column":2}},"8":{"start":{"line":219,"column":0},"end":{"line":219,"column":22}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/data/testData.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/data/testData.ts"],"names":[],"mappings":"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","sourcesContent":["import { ICar } from \"../../models/carsModel\";\r\nimport User from \"../../models/userModel\";\r\n\r\nexport const mockUserData = {\r\n    user_id: 3,\r\n    first_name: 'Admin',\r\n    last_name: 'User',\r\n    email: 'adminuser@gmail.com',\r\n    password: '$2b$10$zCTtCcTmPKYYGDjA0SlSN.Y24o3JWZ7QxgseH4VSTtx89goEN6CRy',\r\n    role: 'admin',\r\n    created_at: '2023-12-09T09:05:20.986Z',\r\n    updated_at: '2023-12-09T09:05:20.986Z'\r\n}\r\n\r\nexport const mockLoginUserData = {\r\n    first_name: 'Admin',\r\n    last_name: 'User',\r\n    email: 'adminuser@gmail.com',\r\n    password: '$2b$10$zCTtCcTmPKYYGDjA0SlSN.Y24o3JWZ7QxgseH4VSTtx89goEN6CRy',\r\n    role: 'admin',\r\n    created_at: '2023-12-09T09:05:20.986Z',\r\n    updated_at: '2023-12-09T09:05:20.986Z'\r\n}\r\n\r\nexport const mockCarsData = [\r\n    {\r\n        available: true,\r\n        availableAt: '2023-12-08T17:00:00.000Z',\r\n        capacity: 4,\r\n        car_id: 1,\r\n        created_at: '2023-12-09T09:05:20.986Z',\r\n        created_by: 2,\r\n        description: 'Test Car',\r\n        image:\r\n            'https://res.cloudinary.com/ddpriosuk/image/upload/v1702112719/jlrvld42rjaoofkk4pia.png',\r\n        manufacture: 'Test Car',\r\n        model: 'Test Car',\r\n        options: {\r\n            optionsInputFields: [\r\n                {\r\n                    option: 'Test Car'\r\n                }\r\n            ]\r\n        },\r\n        plate: 'Test Car',\r\n        rentPerDay: '10000000',\r\n        specs: {\r\n            specsInputFields: [\r\n                {\r\n                    spec: 'Test Car'\r\n                }\r\n            ]\r\n        },\r\n        transmission: 'Test Car',\r\n        type: 'Test Car',\r\n        updated_at: null,\r\n        updated_by: 2,\r\n        year: 2020\r\n    },\r\n    {\r\n        available: true,\r\n        availableAt: '2023-12-08T17:00:00.000Z',\r\n        capacity: 4,\r\n        car_id: 1,\r\n        created_at: '2023-12-09T09:05:20.986Z',\r\n        created_by: 2,\r\n        description: 'Test Car',\r\n        image:\r\n            'https://res.cloudinary.com/ddpriosuk/image/upload/v1702112719/jlrvld42rjaoofkk4pia.png',\r\n        manufacture: 'Test Car',\r\n        model: 'Test Car',\r\n        options: {\r\n            optionsInputFields: [\r\n                {\r\n                    option: 'Test Car'\r\n                }\r\n            ]\r\n        },\r\n        plate: 'Test Car',\r\n        rentPerDay: '10000000',\r\n        specs: {\r\n            specsInputFields: [\r\n                {\r\n                    spec: 'Test Car'\r\n                }\r\n            ]\r\n        },\r\n        transmission: 'Test Car',\r\n        type: 'Test Car',\r\n        updated_at: null,\r\n        updated_by: 2,\r\n        year: 2020\r\n    },\r\n    {\r\n        available: true,\r\n        availableAt: '2023-12-08T17:00:00.000Z',\r\n        capacity: 4,\r\n        car_id: 1,\r\n        created_at: '2023-12-09T09:05:20.986Z',\r\n        created_by: 2,\r\n        description: 'Test Car',\r\n        image:\r\n            'https://res.cloudinary.com/ddpriosuk/image/upload/v1702112719/jlrvld42rjaoofkk4pia.png',\r\n        manufacture: 'Test Car',\r\n        model: 'Test Car',\r\n        options: {\r\n            optionsInputFields: [\r\n                {\r\n                    option: 'Test Car'\r\n                }\r\n            ]\r\n        },\r\n        plate: 'Test Car',\r\n        rentPerDay: '10000000',\r\n        specs: {\r\n            specsInputFields: [\r\n                {\r\n                    spec: 'Test Car'\r\n                }\r\n            ]\r\n        },\r\n        transmission: 'Test Car',\r\n        type: 'Test Car',\r\n        updated_at: null,\r\n        updated_by: 2,\r\n        year: 2020\r\n    }\r\n];\r\n\r\nexport const mockCarData = {\r\n    available: true,\r\n    availableAt: '2023-12-08T17:00:00.000Z',\r\n    capacity: 4,\r\n    car_id: 1,\r\n    created_at: '2023-12-09T09:05:20.986Z',\r\n    created_by: 2,\r\n    description: 'Test Car',\r\n    image:\r\n        'https://res.cloudinary.com/ddpriosuk/image/upload/v1702112719/jlrvld42rjaoofkk4pia.png',\r\n    manufacture: 'Test Car',\r\n    model: 'Test Car',\r\n    options: {\r\n        optionsInputFields: [\r\n            {\r\n                option: 'Test Car'\r\n            }\r\n        ]\r\n    },\r\n    plate: 'Test Car',\r\n    rentPerDay: '10000000',\r\n    specs: {\r\n        specsInputFields: [\r\n            {\r\n                spec: 'Test Car'\r\n            }\r\n        ]\r\n    },\r\n    transmission: 'Test Car',\r\n    type: 'Test Car',\r\n    updated_at: null,\r\n    updated_by: 2,\r\n    year: 2020\r\n}\r\n\r\nexport const mockCreateCarData: ICar = {\r\n    available: true,\r\n    availableAt: '2023-12-08T17:00:00.000Z',\r\n    capacity: 4,\r\n    car_id: 1,\r\n    created_by: 2,\r\n    description: 'Test Car',\r\n    image:\r\n        'https://res.cloudinary.com/ddpriosuk/image/upload/v1702112719/jlrvld42rjaoofkk4pia.png',\r\n    manufacture: 'Test Car',\r\n    model: 'Test Car',\r\n    options: {\r\n        optionsInputFields: [\r\n            {\r\n                option: 'Test Car'\r\n            }\r\n        ]\r\n    },\r\n    plate: 'Test Car',\r\n    rentPerDay: '10000000',\r\n    specs: {\r\n        specsInputFields: [\r\n            {\r\n                spec: 'Test Car'\r\n            }\r\n        ]\r\n    },\r\n    transmission: 'Test Car',\r\n    type: 'Test Car',\r\n    updated_by: 2,\r\n    year: 2020\r\n};\r\n\r\nexport const mockUpdateCarData: ICar = {\r\n    available: false,\r\n    availableAt: '2023-12-08T17:00:00.000Z',\r\n    capacity: 4,\r\n    car_id: 1,\r\n    created_by: 2,\r\n    description: 'Test Car',\r\n    image:\r\n        'https://res.cloudinary.com/ddpriosuk/image/upload/v1702112719/jlrvld42rjaoofkk4pia.png',\r\n    manufacture: 'Test Car',\r\n    model: 'Test Car',\r\n    options: {\r\n        optionsInputFields: [\r\n            {\r\n                option: 'Test Car'\r\n            }\r\n        ]\r\n    },\r\n    plate: 'Test Car',\r\n    rentPerDay: '10000000',\r\n    specs: {\r\n        specsInputFields: [\r\n            {\r\n                spec: 'Test Car'\r\n            }\r\n        ]\r\n    },\r\n    transmission: 'Test Car',\r\n    type: 'Test Car',\r\n    updated_by: 2,\r\n    year: 2020\r\n};\r\n\r\nexport const mockCount = 1;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97ac4e1b2550ffcab4596b71aa84b6ff5583d49d","contentHash":"ee4d557638229c446bd7cd377109bdbb049d7e889ad264d998f38ca004711085"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\unit-tests\\authController.spec.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\unit-tests\\authController.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":62}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"39":{"start":{"line":38,"column":15},"end":{"line":38,"column":44}},"40":{"start":{"line":39,"column":16},"end":{"line":39,"column":49}},"41":{"start":{"line":40,"column":21},"end":{"line":40,"column":59}},"42":{"start":{"line":41,"column":29},"end":{"line":41,"column":58}},"43":{"start":{"line":42,"column":0},"end":{"line":42,"column":41}},"44":{"start":{"line":43,"column":25},"end":{"line":43,"column":90}},"45":{"start":{"line":44,"column":22},"end":{"line":44,"column":76}},"46":{"start":{"line":45,"column":0},"end":{"line":90,"column":3}},"47":{"start":{"line":65,"column":4},"end":{"line":89,"column":7}},"48":{"start":{"line":66,"column":8},"end":{"line":88,"column":12}},"49":{"start":{"line":66,"column":62},"end":{"line":88,"column":10}},"50":{"start":{"line":67,"column":32},"end":{"line":73,"column":13}},"51":{"start":{"line":74,"column":24},"end":{"line":74,"column":80}},"52":{"start":{"line":75,"column":24},"end":{"line":75,"column":59}},"53":{"start":{"line":76,"column":12},"end":{"line":76,"column":73}},"54":{"start":{"line":77,"column":12},"end":{"line":77,"column":58}},"55":{"start":{"line":79,"column":12},"end":{"line":79,"column":62}},"56":{"start":{"line":81,"column":12},"end":{"line":81,"column":70}},"57":{"start":{"line":82,"column":12},"end":{"line":86,"column":27}},"58":{"start":{"line":87,"column":12},"end":{"line":87,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":71},"end":{"line":36,"column":1}},"line":34},"14":{"name":"(anonymous_14)","decl":{"start":{"line":45,"column":53},"end":{"line":45,"column":54}},"loc":{"start":{"line":45,"column":59},"end":{"line":90,"column":1}},"line":45},"15":{"name":"(anonymous_15)","decl":{"start":{"line":65,"column":35},"end":{"line":65,"column":36}},"loc":{"start":{"line":65,"column":41},"end":{"line":89,"column":5}},"line":65},"16":{"name":"(anonymous_16)","decl":{"start":{"line":66,"column":56},"end":{"line":66,"column":57}},"loc":{"start":{"line":66,"column":62},"end":{"line":88,"column":10}},"line":66},"17":{"name":"(anonymous_17)","decl":{"start":{"line":66,"column":96},"end":{"line":66,"column":97}},"loc":{"start":{"line":66,"column":109},"end":{"line":88,"column":9}},"line":66}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"type":"binary-expr","locations":[{"start":{"line":34,"column":23},"end":{"line":34,"column":27}},{"start":{"line":34,"column":31},"end":{"line":34,"column":51}},{"start":{"line":34,"column":56},"end":{"line":36,"column":1}}],"line":34},"22":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":61}},"type":"cond-expr","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":40}},{"start":{"line":35,"column":43},"end":{"line":35,"column":61}}],"line":35},"23":{"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":15}},{"start":{"line":35,"column":19},"end":{"line":35,"column":33}}],"line":35}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":10,"6":2,"7":10,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":10,"21":10,"22":1,"23":1,"24":1,"25":1,"26":0,"27":1,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":2,"35":1,"36":1,"37":4,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1},"f":{"0":10,"1":2,"2":0,"3":1,"4":0,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":0,"12":2,"13":4,"14":1,"15":1,"16":1,"17":1},"b":{"0":[1,1,1],"1":[1,0],"2":[10,0],"3":[10,0],"4":[10,10],"5":[0,10],"6":[10,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[10,0],"15":[10,10],"16":[1,1,1],"17":[1,0],"18":[1,1],"19":[1,1],"20":[1,1],"21":[1,1,1],"22":[2,2],"23":[4,4]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/unit-tests/authController.spec.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/unit-tests/authController.spec.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAAoC;AACpC,kDAA0B;AAC1B,4DAAkC;AAClC,2DAAqD;AACrD,cAAI,CAAC,GAAG,CAAC,oBAAS,CAAC,CAAC;AAEpB,2FAAmE;AACnE,6EAAqD;AAGrD,QAAQ,CAAC,0CAA0C,EAAE,GAAG,EAAE;IACtD,IAAI,cAAmB,CAAC;IAExB,sCAAsC;IACtC,iEAAiE;IACjE,gCAAgC;IAChC,sBAAsB;IACtB,gDAAgD;IAChD,wCAAwC;IACxC,gBAAgB;IAChB,cAAc;IACd,iCAAiC;IAEjC,gDAAgD;IAEhD,yDAAyD;IACzD,uCAAuC;IACvC,6BAA6B;IAC7B,sDAAsD;IACtD,uDAAuD;IACvD,0BAA0B;IAC1B,UAAU;IACV,MAAM;IAEN,QAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE;QAChC,EAAE,CAAC,2CAA2C,EAAE,GAAS,EAAE;YACvD,MAAM,WAAW,GAAG;gBAChB,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE,QAAQ;gBACnB,KAAK,EAAE,sBAAsB;gBAC7B,QAAQ,EAAE,YAAY;gBACtB,IAAI,EAAE,OAAO;aAChB,CAAC;YAEF,MAAM,GAAG,GAAG,IAAA,4BAAO,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;YAC3C,MAAM,GAAG,GAAG,IAAA,4BAAO,GAAE,CAAC;YAEtB,cAAc,GAAG,eAAK,CAAC,IAAI,CAAC,qBAAW,CAAC,CAAC;YACzC,cAAc,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAE9C,+BAA+B;YAC/B,MAAM,wBAAc,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAExC,0CAA0C;YAC1C,IAAA,aAAM,EAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC;YAC9C,IAAA,aAAM,EAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;gBACvB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,8BAA8B;gBACvC,IAAI,EAAE,WAAW;aACpB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC;YAEf,eAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,CAAA,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","sourcesContent":["import chai, { expect } from 'chai';\r\nimport sinon from 'sinon';\r\nimport sinonChai from 'sinon-chai'\r\nimport { mockReq, mockRes } from 'sinon-express-mock'\r\nchai.use(sinonChai);\r\n\r\nimport authController from '../../controllers/Auth/authController';\r\nimport authService from '../../services/authService';\r\n\r\n\r\ndescribe('Running unit test on auth controllers...', () => {\r\n    let authSeviceStub: any;\r\n\r\n    // describe(\"Testing login()\", () => {\r\n    //     it('should handle login function correctly', async () => {\r\n    //         const req = mockReq({\r\n    //             body: {\r\n    //                 email: 'adminuser@gmail.com',\r\n    //                 password: 'adminuser'\r\n    //             }\r\n    //         });\r\n    //         const res = mockRes();\r\n\r\n    //         await authController.login(req, res);\r\n\r\n    //         expect(res.status.calledWith(200)).to.be.true;\r\n    //         expect(res.json.calledWith({\r\n    //             success: true,\r\n    //             message: 'User logged in successfully',\r\n    //             token: res.json.getCall(0).args[0].token\r\n    //         })).to.be.true;\r\n    //     });\r\n    // });\r\n\r\n    describe('Testing register()', () => {\r\n        it('should handle register function correctly', async () => {\r\n            const requestBody = {\r\n                first_name: 'Admin',\r\n                last_name: 'User 2',\r\n                email: 'adminuser2@gmail.com',\r\n                password: 'adminuser2',\r\n                role: 'admin'\r\n            };\r\n\r\n            const req = mockReq({ body: requestBody });\r\n            const res = mockRes();\r\n\r\n            authSeviceStub = sinon.stub(authService);\r\n            authSeviceStub.register.resolves(requestBody);\r\n\r\n            // Call the controller function\r\n            await authController.register(req, res);\r\n\r\n            // Assert the response from the controller\r\n            expect(res.status.calledWith(200)).to.be.true;\r\n            expect(res.json.calledWith({\r\n                success: true,\r\n                message: 'User registered successfully',\r\n                user: requestBody\r\n            })).to.be.true;\r\n\r\n            sinon.restore();\r\n        });\r\n    });\r\n});"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9ca74fe06119eb5c4a709ae951a0cadf91c26a77","contentHash":"da95a845addb6969fc2e00a69895c16c9372d04a83da751716bdd4c4b4569253"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\unit-tests\\carsController.spec.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\unit-tests\\carsController.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"25":{"start":{"line":26,"column":28},"end":{"line":26,"column":110}},"26":{"start":{"line":26,"column":91},"end":{"line":26,"column":106}},"27":{"start":{"line":27,"column":4},"end":{"line":32,"column":7}},"28":{"start":{"line":28,"column":36},"end":{"line":28,"column":97}},"29":{"start":{"line":28,"column":42},"end":{"line":28,"column":70}},"30":{"start":{"line":28,"column":85},"end":{"line":28,"column":95}},"31":{"start":{"line":29,"column":35},"end":{"line":29,"column":100}},"32":{"start":{"line":29,"column":41},"end":{"line":29,"column":73}},"33":{"start":{"line":29,"column":88},"end":{"line":29,"column":98}},"34":{"start":{"line":30,"column":32},"end":{"line":30,"column":116}},"35":{"start":{"line":31,"column":8},"end":{"line":31,"column":78}},"36":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":62}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":62}},"39":{"start":{"line":38,"column":15},"end":{"line":38,"column":44}},"40":{"start":{"line":39,"column":16},"end":{"line":39,"column":49}},"41":{"start":{"line":40,"column":21},"end":{"line":40,"column":59}},"42":{"start":{"line":41,"column":29},"end":{"line":41,"column":58}},"43":{"start":{"line":42,"column":0},"end":{"line":42,"column":41}},"44":{"start":{"line":43,"column":15},"end":{"line":43,"column":47}},"45":{"start":{"line":44,"column":11},"end":{"line":44,"column":38}},"46":{"start":{"line":45,"column":25},"end":{"line":45,"column":90}},"47":{"start":{"line":46,"column":25},"end":{"line":46,"column":90}},"48":{"start":{"line":47,"column":22},"end":{"line":47,"column":76}},"49":{"start":{"line":48,"column":22},"end":{"line":48,"column":76}},"50":{"start":{"line":49,"column":19},"end":{"line":49,"column":46}},"51":{"start":{"line":50,"column":0},"end":{"line":204,"column":3}},"52":{"start":{"line":54,"column":4},"end":{"line":64,"column":8}},"53":{"start":{"line":54,"column":17},"end":{"line":64,"column":6}},"54":{"start":{"line":55,"column":25},"end":{"line":60,"column":10}},"55":{"start":{"line":61,"column":25},"end":{"line":61,"column":60}},"56":{"start":{"line":62,"column":8},"end":{"line":62,"column":65}},"57":{"start":{"line":63,"column":8},"end":{"line":63,"column":60}},"58":{"start":{"line":65,"column":4},"end":{"line":67,"column":7}},"59":{"start":{"line":66,"column":8},"end":{"line":66,"column":66}},"60":{"start":{"line":68,"column":4},"end":{"line":70,"column":7}},"61":{"start":{"line":69,"column":8},"end":{"line":69,"column":34}},"62":{"start":{"line":71,"column":4},"end":{"line":89,"column":7}},"63":{"start":{"line":72,"column":8},"end":{"line":88,"column":12}},"64":{"start":{"line":72,"column":58},"end":{"line":88,"column":10}},"65":{"start":{"line":73,"column":24},"end":{"line":73,"column":59}},"66":{"start":{"line":74,"column":24},"end":{"line":74,"column":59}},"67":{"start":{"line":75,"column":12},"end":{"line":75,"column":102}},"68":{"start":{"line":76,"column":12},"end":{"line":76,"column":58}},"69":{"start":{"line":77,"column":12},"end":{"line":77,"column":70}},"70":{"start":{"line":78,"column":12},"end":{"line":87,"column":27}},"71":{"start":{"line":90,"column":4},"end":{"line":112,"column":7}},"72":{"start":{"line":91,"column":8},"end":{"line":111,"column":12}},"73":{"start":{"line":91,"column":58},"end":{"line":111,"column":10}},"74":{"start":{"line":92,"column":24},"end":{"line":96,"column":14}},"75":{"start":{"line":97,"column":24},"end":{"line":97,"column":59}},"76":{"start":{"line":98,"column":12},"end":{"line":98,"column":89}},"77":{"start":{"line":99,"column":12},"end":{"line":99,"column":58}},"78":{"start":{"line":100,"column":12},"end":{"line":100,"column":70}},"79":{"start":{"line":101,"column":12},"end":{"line":110,"column":27}},"80":{"start":{"line":113,"column":4},"end":{"line":136,"column":7}},"81":{"start":{"line":114,"column":8},"end":{"line":135,"column":12}},"82":{"start":{"line":114,"column":60},"end":{"line":135,"column":10}},"83":{"start":{"line":115,"column":24},"end":{"line":119,"column":14}},"84":{"start":{"line":120,"column":24},"end":{"line":120,"column":59}},"85":{"start":{"line":121,"column":12},"end":{"line":121,"column":124}},"86":{"start":{"line":122,"column":12},"end":{"line":122,"column":70}},"87":{"start":{"line":123,"column":12},"end":{"line":123,"column":76}},"88":{"start":{"line":124,"column":12},"end":{"line":124,"column":70}},"89":{"start":{"line":125,"column":12},"end":{"line":134,"column":27}},"90":{"start":{"line":137,"column":4},"end":{"line":156,"column":7}},"91":{"start":{"line":138,"column":8},"end":{"line":155,"column":12}},"92":{"start":{"line":138,"column":66},"end":{"line":155,"column":10}},"93":{"start":{"line":139,"column":29},"end":{"line":139,"column":44}},"94":{"start":{"line":140,"column":29},"end":{"line":140,"column":80}},"95":{"start":{"line":141,"column":31},"end":{"line":141,"column":56}},"96":{"start":{"line":142,"column":24},"end":{"line":150,"column":14}},"97":{"start":{"line":151,"column":24},"end":{"line":151,"column":59}},"98":{"start":{"line":152,"column":12},"end":{"line":152,"column":60}},"99":{"start":{"line":153,"column":12},"end":{"line":153,"column":70}},"100":{"start":{"line":154,"column":12},"end":{"line":154,"column":89}},"101":{"start":{"line":157,"column":4},"end":{"line":183,"column":7}},"102":{"start":{"line":158,"column":8},"end":{"line":182,"column":12}},"103":{"start":{"line":158,"column":60},"end":{"line":182,"column":10}},"104":{"start":{"line":159,"column":24},"end":{"line":166,"column":14}},"105":{"start":{"line":167,"column":24},"end":{"line":167,"column":59}},"106":{"start":{"line":168,"column":12},"end":{"line":168,"column":124}},"107":{"start":{"line":169,"column":12},"end":{"line":169,"column":98}},"108":{"start":{"line":170,"column":12},"end":{"line":170,"column":76}},"109":{"start":{"line":171,"column":12},"end":{"line":171,"column":70}},"110":{"start":{"line":172,"column":12},"end":{"line":181,"column":27}},"111":{"start":{"line":184,"column":4},"end":{"line":203,"column":7}},"112":{"start":{"line":185,"column":8},"end":{"line":202,"column":12}},"113":{"start":{"line":185,"column":60},"end":{"line":202,"column":10}},"114":{"start":{"line":186,"column":24},"end":{"line":193,"column":14}},"115":{"start":{"line":194,"column":24},"end":{"line":194,"column":59}},"116":{"start":{"line":195,"column":12},"end":{"line":195,"column":70}},"117":{"start":{"line":196,"column":12},"end":{"line":196,"column":60}},"118":{"start":{"line":197,"column":12},"end":{"line":197,"column":70}},"119":{"start":{"line":198,"column":12},"end":{"line":201,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":89},"end":{"line":33,"column":1}},"line":25},"7":{"name":"adopt","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":18}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":112}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":70},"end":{"line":26,"column":71}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":108}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":36},"end":{"line":27,"column":37}},"loc":{"start":{"line":27,"column":63},"end":{"line":32,"column":5}},"line":27},"10":{"name":"fulfilled","decl":{"start":{"line":28,"column":17},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":99}},"line":28},"11":{"name":"rejected","decl":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":102}},"line":29},"12":{"name":"step","decl":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":118}},"line":30},"13":{"name":"(anonymous_13)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":71},"end":{"line":36,"column":1}},"line":34},"14":{"name":"(anonymous_14)","decl":{"start":{"line":50,"column":53},"end":{"line":50,"column":54}},"loc":{"start":{"line":50,"column":59},"end":{"line":204,"column":1}},"line":50},"15":{"name":"(anonymous_15)","decl":{"start":{"line":54,"column":11},"end":{"line":54,"column":12}},"loc":{"start":{"line":54,"column":17},"end":{"line":64,"column":6}},"line":54},"16":{"name":"(anonymous_16)","decl":{"start":{"line":54,"column":51},"end":{"line":54,"column":52}},"loc":{"start":{"line":54,"column":64},"end":{"line":64,"column":5}},"line":54},"17":{"name":"(anonymous_17)","decl":{"start":{"line":65,"column":15},"end":{"line":65,"column":16}},"loc":{"start":{"line":65,"column":21},"end":{"line":67,"column":5}},"line":65},"18":{"name":"(anonymous_18)","decl":{"start":{"line":68,"column":14},"end":{"line":68,"column":15}},"loc":{"start":{"line":68,"column":20},"end":{"line":70,"column":5}},"line":68},"19":{"name":"(anonymous_19)","decl":{"start":{"line":71,"column":31},"end":{"line":71,"column":32}},"loc":{"start":{"line":71,"column":37},"end":{"line":89,"column":5}},"line":71},"20":{"name":"(anonymous_20)","decl":{"start":{"line":72,"column":52},"end":{"line":72,"column":53}},"loc":{"start":{"line":72,"column":58},"end":{"line":88,"column":10}},"line":72},"21":{"name":"(anonymous_21)","decl":{"start":{"line":72,"column":92},"end":{"line":72,"column":93}},"loc":{"start":{"line":72,"column":105},"end":{"line":88,"column":9}},"line":72},"22":{"name":"(anonymous_22)","decl":{"start":{"line":90,"column":31},"end":{"line":90,"column":32}},"loc":{"start":{"line":90,"column":37},"end":{"line":112,"column":5}},"line":90},"23":{"name":"(anonymous_23)","decl":{"start":{"line":91,"column":52},"end":{"line":91,"column":53}},"loc":{"start":{"line":91,"column":58},"end":{"line":111,"column":10}},"line":91},"24":{"name":"(anonymous_24)","decl":{"start":{"line":91,"column":92},"end":{"line":91,"column":93}},"loc":{"start":{"line":91,"column":105},"end":{"line":111,"column":9}},"line":91},"25":{"name":"(anonymous_25)","decl":{"start":{"line":113,"column":33},"end":{"line":113,"column":34}},"loc":{"start":{"line":113,"column":39},"end":{"line":136,"column":5}},"line":113},"26":{"name":"(anonymous_26)","decl":{"start":{"line":114,"column":54},"end":{"line":114,"column":55}},"loc":{"start":{"line":114,"column":60},"end":{"line":135,"column":10}},"line":114},"27":{"name":"(anonymous_27)","decl":{"start":{"line":114,"column":94},"end":{"line":114,"column":95}},"loc":{"start":{"line":114,"column":107},"end":{"line":135,"column":9}},"line":114},"28":{"name":"(anonymous_28)","decl":{"start":{"line":137,"column":33},"end":{"line":137,"column":34}},"loc":{"start":{"line":137,"column":39},"end":{"line":156,"column":5}},"line":137},"29":{"name":"(anonymous_29)","decl":{"start":{"line":138,"column":60},"end":{"line":138,"column":61}},"loc":{"start":{"line":138,"column":66},"end":{"line":155,"column":10}},"line":138},"30":{"name":"(anonymous_30)","decl":{"start":{"line":138,"column":100},"end":{"line":138,"column":101}},"loc":{"start":{"line":138,"column":113},"end":{"line":155,"column":9}},"line":138},"31":{"name":"(anonymous_31)","decl":{"start":{"line":157,"column":33},"end":{"line":157,"column":34}},"loc":{"start":{"line":157,"column":39},"end":{"line":183,"column":5}},"line":157},"32":{"name":"(anonymous_32)","decl":{"start":{"line":158,"column":54},"end":{"line":158,"column":55}},"loc":{"start":{"line":158,"column":60},"end":{"line":182,"column":10}},"line":158},"33":{"name":"(anonymous_33)","decl":{"start":{"line":158,"column":94},"end":{"line":158,"column":95}},"loc":{"start":{"line":158,"column":107},"end":{"line":182,"column":9}},"line":158},"34":{"name":"(anonymous_34)","decl":{"start":{"line":184,"column":33},"end":{"line":184,"column":34}},"loc":{"start":{"line":184,"column":39},"end":{"line":203,"column":5}},"line":184},"35":{"name":"(anonymous_35)","decl":{"start":{"line":185,"column":54},"end":{"line":185,"column":55}},"loc":{"start":{"line":185,"column":60},"end":{"line":202,"column":10}},"line":185},"36":{"name":"(anonymous_36)","decl":{"start":{"line":185,"column":94},"end":{"line":185,"column":95}},"loc":{"start":{"line":185,"column":107},"end":{"line":202,"column":9}},"line":185}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":16},"end":{"line":33,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":17},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},{"start":{"line":25,"column":44},"end":{"line":33,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":109}},"type":"cond-expr","locations":[{"start":{"line":26,"column":56},"end":{"line":26,"column":61}},{"start":{"line":26,"column":64},"end":{"line":26,"column":109}}],"line":26},"18":{"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":34}},"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},{"start":{"line":27,"column":22},"end":{"line":27,"column":33}}],"line":27},"19":{"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":115}},"type":"cond-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},{"start":{"line":30,"column":70},"end":{"line":30,"column":115}}],"line":30},"20":{"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":67}},"type":"binary-expr","locations":[{"start":{"line":31,"column":51},"end":{"line":31,"column":61}},{"start":{"line":31,"column":65},"end":{"line":31,"column":67}}],"line":31},"21":{"loc":{"start":{"line":34,"column":22},"end":{"line":36,"column":1}},"type":"binary-expr","locations":[{"start":{"line":34,"column":23},"end":{"line":34,"column":27}},{"start":{"line":34,"column":31},"end":{"line":34,"column":51}},{"start":{"line":34,"column":56},"end":{"line":36,"column":1}}],"line":34},"22":{"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":61}},"type":"cond-expr","locations":[{"start":{"line":35,"column":37},"end":{"line":35,"column":40}},{"start":{"line":35,"column":43},"end":{"line":35,"column":61}}],"line":35},"23":{"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":15}},{"start":{"line":35,"column":19},"end":{"line":35,"column":33}}],"line":35}},"s":{"0":1,"1":113,"2":113,"3":113,"4":113,"5":108,"6":13,"7":113,"8":0,"9":0,"10":0,"11":1,"12":2,"13":0,"14":1,"15":2,"16":0,"17":2,"18":2,"19":2,"20":113,"21":113,"22":2,"23":2,"24":1,"25":7,"26":0,"27":7,"28":7,"29":7,"30":0,"31":0,"32":0,"33":0,"34":14,"35":7,"36":1,"37":7,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":6,"60":1,"61":6,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1},"f":{"0":113,"1":13,"2":0,"3":2,"4":0,"5":2,"6":7,"7":7,"8":0,"9":7,"10":7,"11":0,"12":14,"13":7,"14":1,"15":1,"16":1,"17":6,"18":6,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1},"b":{"0":[1,1,1],"1":[1,0],"2":[113,0],"3":[108,5],"4":[113,113],"5":[5,108],"6":[108,5],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,2],"12":[2,2],"13":[2,0],"14":[113,0],"15":[113,113],"16":[1,1,1],"17":[7,0],"18":[7,7],"19":[7,7],"20":[7,7],"21":[1,1,1],"22":[4,3],"23":[7,7]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/unit-tests/carsController.spec.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/unit-tests/carsController.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import chai, { expect } from 'chai';\r\nimport sinon from 'sinon';\r\nimport sinonChai from 'sinon-chai'\r\nimport { mockReq, mockRes } from 'sinon-express-mock'\r\nchai.use(sinonChai);\r\n\r\nimport path from 'path';\r\nimport * as fs from 'fs';\r\n\r\nimport CarsController from '../../controllers/Cars/carsController';\r\nimport authController from '../../controllers/Auth/authController';\r\nimport CarsService from '../../services/carsService';\r\nimport authService from '../../services/authService';\r\nimport { mockUserData, mockCarsData, mockCarData, mockCreateCarData, mockCount } from '../data/testData';\r\n\r\n\r\ndescribe('Running unit test on cars controllers...', () => {\r\n  let serviceStub: any;\r\n  let authSeviceStub: any;\r\n  let validToken: string;\r\n\r\n  before(async () => {\r\n\r\n    const loginReq = mockReq({\r\n      body: {\r\n        email: 'adminuser@gmail.com',\r\n        password: 'adminuser'\r\n      }\r\n    });\r\n    const loginRes = mockRes();\r\n\r\n\r\n    await authController.login(loginReq, loginRes);\r\n\r\n\r\n    validToken = loginRes.json.getCall(0).args[0].token;\r\n  });\r\n\r\n  beforeEach(() => {\r\n    serviceStub = sinon.stub(CarsService);\r\n  });\r\n\r\n  afterEach(() => {\r\n    sinon.restore();\r\n  });\r\n\r\n  describe(\"Testing list()\", () => {\r\n    it('should handle list function correctly', async () => {\r\n      const req = mockReq();\r\n      const res = mockRes();\r\n\r\n      serviceStub.list.resolves({ data: mockCarsData, count: mockCount });\r\n\r\n      await CarsController.list(req, res);\r\n\r\n      expect(res.status.calledWith(200)).to.be.true;\r\n      expect(res.json.calledWith({\r\n        message: 'success showing list of all cars',\r\n        data: mockCarsData,\r\n        meta: {\r\n          page: 1,\r\n          size: 10,\r\n          totalData: mockCount,\r\n          totalPages: 0\r\n        }\r\n      })).to.be.true;\r\n    });\r\n  });\r\n\r\n  describe(\"Testing show()\", () => {\r\n    it('should handle show function correctly', async () => {\r\n      const req = mockReq({\r\n        params: {\r\n          car_id: 2\r\n        }\r\n      });\r\n      const res = mockRes();\r\n\r\n      serviceStub.get.withArgs(req.params.car_id).resolves(mockCarData);\r\n\r\n      await CarsController.show(req, res);\r\n\r\n      expect(res.status.calledWith(200)).to.be.true;\r\n      expect(res.json.calledWith({\r\n        message: 'success showing a car',\r\n        data: mockCarData,\r\n        meta: {\r\n          page: 1,\r\n          size: 10,\r\n          totalData: 1,\r\n          totalPages: 0\r\n        }\r\n      })).to.be.true;\r\n    });\r\n  });\r\n\r\n  describe('Testing create()', () => {\r\n    it('should handle create function correctly', async () => {\r\n      const req = mockReq({\r\n        body: {\r\n          userToken: `Bearer ${validToken}`,\r\n        },\r\n      });\r\n      const res = mockRes();\r\n\r\n\r\n      authSeviceStub = sinon.stub(authService, 'validateToken').resolves(mockUserData);\r\n\r\n      serviceStub.create.resolves(mockCreateCarData);\r\n\r\n      await CarsController.create(req, res, authSeviceStub);\r\n\r\n      expect(res.status.calledWith(201)).to.be.true;\r\n      expect(res.json.calledWith({\r\n        message: 'success create a new car',\r\n        data: mockCreateCarData,\r\n        meta: {\r\n          page: 1,\r\n          size: 10,\r\n          totalData: 0,\r\n          totalPages: 0\r\n        }\r\n      })).to.be.true;\r\n    });\r\n  });\r\n\r\n  describe('Testing upload()', () => {\r\n    it('should upload a file with authorization token', async () => {\r\n      const filename = 'testImage.png';\r\n      const filePath = path.join(__dirname, '../data', filename);\r\n      const fileBuffer = fs.readFileSync(filePath);\r\n\r\n      const req = mockReq({\r\n        file: {\r\n          buffer: fileBuffer,\r\n          mimetype: 'image/png',\r\n        },\r\n        body: {\r\n          userToken: `Bearer ${validToken}`\r\n        }\r\n      });\r\n      const res = mockRes();\r\n\r\n      await CarsController.upload(req, res);\r\n\r\n      expect(res.status.calledWith(200)).to.be.true;\r\n      expect(res.json.getCall(0).args[0].data).to.have.property(\"url\");\r\n    });\r\n  });\r\n\r\n  describe('Testing update()', () => {\r\n    it('should handle update function correctly', async () => {\r\n      const req = mockReq({\r\n        params: {\r\n          car_id: 2\r\n        },\r\n        body: {\r\n          userToken: `Bearer ${validToken}`,\r\n        }\r\n      });\r\n      const res = mockRes();\r\n\r\n      authSeviceStub = sinon.stub(authService, 'validateToken').resolves(mockUserData);\r\n\r\n      serviceStub.update.withArgs(req.params.car_id).resolves(mockCreateCarData);\r\n\r\n      await CarsController.update(req, res, authSeviceStub);\r\n\r\n      expect(res.status.calledWith(201)).to.be.true;\r\n      expect(res.json.calledWith({\r\n        message: 'success updating car data',\r\n        data: mockCreateCarData,\r\n        meta: {\r\n          page: 1,\r\n          size: 10,\r\n          totalData: 0,\r\n          totalPages: 0\r\n        }\r\n      })).to.be.true;\r\n    });\r\n  });\r\n\r\n  describe('Testing delete()', () => {\r\n    it('should handle delete function correctly', async () => {\r\n      const req = mockReq({\r\n        params: {\r\n          car_id: 2\r\n        },\r\n        headers: {\r\n          authorization: `Bearer ${validToken}`,\r\n        }\r\n      });\r\n      const res = mockRes();\r\n\r\n      serviceStub.delete.withArgs(req.params.car_id).resolves();\r\n\r\n      await CarsController.delete(req, res);\r\n\r\n      expect(res.status.calledWith(200)).to.be.true;\r\n      expect(res.json.calledWith({\r\n        status: 'OK',\r\n        message: 'Successfully deleted car'\r\n      })).to.be.true;\r\n    });\r\n  });\r\n\r\n});\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0af174d045e2b0e04598b2143a64f5d280b03363","contentHash":"d1e168c61cd4731cb724031f9d0acc01b33cf66ecff9f85ab2eac51d0f19d53c"},"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\unit-tests\\health.spec.ts":{"path":"C:\\Users\\Saifulloh\\Documents\\Personal\\SYNRGY-BINAR\\Chapter_8\\final_challenge\\backend\\app\\tests\\unit-tests\\health.spec.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":15},"end":{"line":15,"column":47}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":96}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":36}},"18":{"start":{"line":18,"column":0},"end":{"line":31,"column":3}},"19":{"start":{"line":19,"column":4},"end":{"line":24,"column":7}},"20":{"start":{"line":20,"column":8},"end":{"line":23,"column":11}},"21":{"start":{"line":21,"column":33},"end":{"line":21,"column":77}},"22":{"start":{"line":22,"column":12},"end":{"line":22,"column":48}},"23":{"start":{"line":25,"column":4},"end":{"line":30,"column":7}},"24":{"start":{"line":26,"column":8},"end":{"line":29,"column":12}},"25":{"start":{"line":26,"column":42},"end":{"line":29,"column":10}},"26":{"start":{"line":27,"column":33},"end":{"line":27,"column":84}},"27":{"start":{"line":28,"column":12},"end":{"line":28,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":45},"end":{"line":18,"column":46}},"loc":{"start":{"line":18,"column":51},"end":{"line":31,"column":1}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":38},"end":{"line":19,"column":39}},"loc":{"start":{"line":19,"column":44},"end":{"line":24,"column":5}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":36},"end":{"line":20,"column":37}},"loc":{"start":{"line":20,"column":42},"end":{"line":23,"column":9}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":25,"column":39},"end":{"line":25,"column":40}},"loc":{"start":{"line":25,"column":45},"end":{"line":30,"column":5}},"line":25},"12":{"name":"(anonymous_12)","decl":{"start":{"line":26,"column":36},"end":{"line":26,"column":37}},"loc":{"start":{"line":26,"column":42},"end":{"line":29,"column":10}},"line":26},"13":{"name":"(anonymous_13)","decl":{"start":{"line":26,"column":76},"end":{"line":26,"column":77}},"loc":{"start":{"line":26,"column":89},"end":{"line":29,"column":9}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":1,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":0,"6":2,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1],"5":[1,1,1],"6":[1,1],"7":[2,2]},"inputSourceMap":{"version":3,"file":"C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/unit-tests/health.spec.ts","sources":["C:/Users/Saifulloh/Documents/Personal/SYNRGY-BINAR/Chapter_8/final_challenge/backend/app/tests/unit-tests/health.spec.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,gDAAwB;AAExB,iGAAyE;AACzE,MAAM,MAAM,GAAG,cAAI,CAAC,MAAM,CAAC,CAAC,mCAAmC;AAE/D,QAAQ,CAAC,kCAAkC,EAAE,GAAG,EAAE;IAChD,QAAQ,CAAC,uBAAuB,EAAE,GAAG,EAAE;QACrC,EAAE,CAAC,uBAAuB,EAAE,GAAG,EAAE;YAC/B,MAAM,YAAY,GAAG,0BAAgB,CAAC,eAAe,EAAE,CAAC;YACxD,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,EAAE,CAAC,uBAAuB,EAAE,GAAS,EAAE;YACrC,MAAM,YAAY,GAAG,MAAM,0BAAgB,CAAC,gBAAgB,EAAE,CAAC;YAC/D,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAA,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import chai from 'chai';\n\nimport HealthController from '../../controllers/Health/healthController';\nconst expect = chai.expect; // Use import syntax for TypeScript\n\ndescribe('Testing server async/sync health', () => {\n  describe('Health check on /sync', () => {\n    it('health should be okay', () => {\n      const actualResult = HealthController.healthCheckSync();\n      expect(actualResult).to.equal('OK');\n    });\n  });\n\n  describe('Health check on /async', () => {\n    it('health should be okay', async () => {\n      const actualResult = await HealthController.healthCheckAsync();\n      expect(actualResult).to.equal('OK');\n    });\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"03f294b407a364ec5f1dd63b22eeddddaefa121b","contentHash":"e553c079ffd23a02ce409e28c75adcf6ebe175c31695ca06ea7c4456f9d314ab"}}